{"version":3,"sources":["webpack:///./node_modules/core-js/internals/function-bind.js","webpack:///./node_modules/trezor-connect/node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/trezor-connect/lib/utils/debug.js","webpack:///./node_modules/trezor-connect/lib/types/index.js","webpack:///./node_modules/core-js/modules/es.weak-map.js","webpack:///./node_modules/core-js/modules/es.object.set-prototype-of.js","webpack:///./node_modules/trezor-connect/lib/constants/ui.js","webpack:///./node_modules/trezor-connect/node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/trezor-connect/lib/utils/deferred.js","webpack:///./node_modules/core-js/modules/es.object.get-prototype-of.js","webpack:///./node_modules/trezor-connect/lib/data/ConnectSettings.js","webpack:///./node_modules/trezor-connect/lib/env/browser/networkUtils.js","webpack:///./node_modules/trezor-connect/node_modules/whatwg-fetch/fetch.js","webpack:///./node_modules/trezor-connect/lib/constants/iframe.js","webpack:///./node_modules/trezor-connect/lib/constants/errors.js","webpack:///./node_modules/core-js/modules/es.string.iterator.js","webpack:///./node_modules/trezor-connect/lib/popup/PopupManager.js","webpack:///./node_modules/trezor-connect/lib/popup/showPopupRequest.js","webpack:///./node_modules/core-js/modules/es.reflect.construct.js","webpack:///./node_modules/core-js/modules/es.map.js","webpack:///./node_modules/trezor-connect/lib/iframe/builder.js","webpack:///./node_modules/core-js/internals/string-multibyte.js","webpack:///./node_modules/core-js/internals/collection-strong.js","webpack:///./node_modules/core-js/internals/collection.js","webpack:///./node_modules/trezor-connect/node_modules/@babel/runtime/helpers/construct.js","webpack:///./node_modules/trezor-connect/node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/trezor-connect/lib/index.js","webpack:///./node_modules/trezor-connect/node_modules/@babel/runtime/helpers/interopRequireWildcard.js","webpack:///./node_modules/trezor-connect/lib/constants/popup.js","webpack:///./node_modules/trezor-connect/node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack:///./node_modules/trezor-connect/lib/message/index.js","webpack:///./node_modules/trezor-connect/node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/trezor-connect/lib/env/browser/index.js","webpack:///./node_modules/core-js/internals/collection-weak.js","webpack:///./node_modules/trezor-connect/node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/trezor-connect/lib/constants/index.js","webpack:///./node_modules/trezor-connect/lib/webusb/button.js","webpack:///./node_modules/trezor-connect/lib/constants/transport.js","webpack:///./node_modules/trezor-connect/lib/constants/device.js","webpack:///./node_modules/trezor-connect/lib/iframe/inline-styles.js","webpack:///./node_modules/trezor-connect/node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack:///./node_modules/trezor-connect/node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/trezor-connect/lib/types/backend/blockchain.js","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./node_modules/trezor-connect/lib/types/events.js","webpack:///./node_modules/trezor-connect/node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./node_modules/trezor-connect/lib/constants/blockchain.js","webpack:///./node_modules/trezor-connect/node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack:///./node_modules/trezor-connect/lib/types/trezor/device.js","webpack:///./node_modules/trezor-connect/node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack:///./node_modules/trezor-connect/lib/types/api.js","webpack:///./node_modules/trezor-connect/node_modules/@babel/runtime/helpers/inheritsLoose.js"],"names":["aFunction","isObject","slice","factories","construct","C","argsLength","args","list","i","Function","join","module","exports","bind","that","fn","this","partArgs","call","arguments","boundFunction","concat","length","apply","prototype","_assertThisInitialized","self","ReferenceError","__esModule","popupConsole","enableByPrefix","getLog","enable","init","_this","colors","Log","prefix","enabled","messages","css","_proto","addMessage","level","_len","Array","_key","push","message","timestamp","Date","getTime","log","_len2","_key2","_console","console","error","_len3","_key3","_console2","warn","_len4","_key4","_console3","debug","_len5","_key5","_console4","_logs","enab","instance","_i","_Object$keys","Object","keys","l","logs","_i2","_Object$keys2","sort","a","b","tag","postMessage","c","global","orig","info","inject","method","time","toUTCString","_len6","_key6","type","JSON","stringify","_api","forEach","key","_events","_misc","_params","_account","_device","_management","_bitcoin","_binance","_cardano","_coinInfo","_eos","_ethereum","_lisk","_nem","_ripple","_stellar","_tezos","_blockchain","_transactions","InternalWeakMap","redefineAll","InternalMetadataModule","collection","collectionWeak","enforceIternalState","enforce","NATIVE_WEAK_MAP","IS_IE11","ActiveXObject","isExtensible","wrapper","undefined","$WeakMap","getConstructor","REQUIRED","WeakMapPrototype","nativeDelete","nativeHas","has","nativeGet","get","nativeSet","set","state","frozen","value","$","setPrototypeOf","target","stat","ADDRESS_VALIDATION","BUNDLE_PROGRESS","LOGIN_CHALLENGE_RESPONSE","LOGIN_CHALLENGE_REQUEST","CUSTOM_MESSAGE_RESPONSE","CUSTOM_MESSAGE_REQUEST","CHANGE_SETTINGS","RECEIVE_WORD","RECEIVE_FEE","RECEIVE_ACCOUNT","CHANGE_ACCOUNT","RECEIVE_DEVICE","RECEIVE_PASSPHRASE","RECEIVE_PIN","RECEIVE_CONFIRMATION","RECEIVE_PERMISSION","REQUEST_WORD","REQUEST_BUTTON","INSUFFICIENT_FUNDS","UPDATE_CUSTOM_FEE","SELECT_FEE","SELECT_ACCOUNT","SELECT_DEVICE","SET_OPERATION","LOADING","CONNECT","INVALID_PASSPHRASE_ACTION","INVALID_PASSPHRASE","REQUEST_PASSPHRASE_ON_DEVICE","REQUEST_PASSPHRASE","INVALID_PIN","REQUEST_PIN","REQUEST_CONFIRMATION","REQUEST_PERMISSION","CLOSE_UI_WINDOW","REQUEST_UI_WINDOW","DEVICE_NEEDS_BACKUP","FIRMWARE_PROGRESS","FIRMWARE_NOT_INSTALLED","FIRMWARE_NOT_COMPATIBLE","FIRMWARE_NOT_SUPPORTED","FIRMWARE_OUTDATED","FIRMWARE_OLD","SEEDLESS","INITIALIZE","REQUIRE_MODE","NOT_IN_BOOTLOADER","BOOTLOADER","TRANSPORT","_defineProperty","obj","defineProperty","enumerable","configurable","writable","_interopRequireDefault","create","createAsync","resolveTimeoutPromise","rejectTimeoutPromise","_regenerator","_asyncToGenerator2","arg","device","id","localResolve","t","localReject","e","promise","Promise","_ref","mark","_callee","resolve","reject","wrap","_context","prev","next","t0","stop","_x","_x2","innerFn","inner","_ref2","_callee2","_context2","run","delay","result","setTimeout","fails","toObject","nativeGetPrototypeOf","CORRECT_PROTOTYPE_GETTER","FAILS_ON_PRIMITIVES","forced","sham","getPrototypeOf","it","parse","corsValidator","getEnv","DEFAULT_PRIORITY","_defineProperty2","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread","source","getOwnPropertyDescriptors","defineProperties","VERSION","versionN","split","map","s","parseInt","DIRECTORY","DEFAULT_DOMAIN","initialSettings","configSrc","version","priority","trustedHost","connectSrc","iframeSrc","popup","popupSrc","webusbSrc","transportReconnect","webusb","pendingTransportEvent","supportedBrowser","navigator","test","userAgent","manifest","env","lazyLoad","currentSettings","parseManifest","email","appUrl","chrome","runtime","onConnect","product","toLowerCase","indexOf","url","match","input","settings","hasOwnProperty","isArray","__TREZOR_CONNECT_SRC","window","location","search","vars","customUrl","find","v","_customUrl$split","decodeURIComponent","src","protocol","origin","pathname","extension","getOrigin","httpRequest","response","txt","fetch","credentials","sent","ok","text","abrupt","arrayBuffer","Error","statusText","parts","support","searchParams","iterable","Symbol","blob","Blob","formData","isDataView","DataView","isPrototypeOf","viewClasses","isArrayBufferView","ArrayBuffer","isView","toString","normalizeName","name","String","TypeError","normalizeValue","iteratorFor","items","iterator","shift","done","Headers","headers","append","header","getOwnPropertyNames","consumed","body","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","Uint8Array","chars","fromCharCode","bufferClone","byteLength","buffer","Body","_initBody","_bodyInit","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","rejected","then","decode","json","oldValue","callback","thisArg","values","entries","methods","normalizeMethod","upcased","toUpperCase","Request","options","mode","signal","referrer","form","trim","bytes","replace","parseHeaders","rawHeaders","preProcessedHeaders","line","Response","bodyInit","status","clone","redirectStatuses","redirect","RangeError","DOMException","err","stack","constructor","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","getAllResponseHeaders","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","CALL","ERROR","INIT","LOADED","BOOTSTRAP","NO_COIN_INFO","BACKEND_NO_URL","backendNotSupported","WEBUSB_ERROR_MESSAGE","INVALID_PIN_ERROR_MESSAGE","WRONG_PREVIOUS_SESSION_ERROR_MESSAGE","INVALID_STATE","CALL_OVERRIDE","INITIALIZATION_FAILED","DEVICE_USED_ELSEWHERE","PERMISSIONS_NOT_GRANTED","POPUP_CLOSED","INVALID_PARAMETERS","DEVICE_CALL_IN_PROGRESS","DEVICE_NOT_FOUND","WRONG_TRANSPORT_CONFIG","NO_TRANSPORT","MANAGEMENT_NOT_ALLOWED","MANIFEST_NOT_SET","BROWSER_NOT_SUPPORTED","POPUP_TIMEOUT","IFRAME_TIMEOUT","IFRAME_INITIALIZED","IFRAME_BLOCKED","NO_IFRAME","invalidParameter","TrezorError","_inheritsLoose2","_wrapNativeSuper2","_Error","code","coinName","charAt","InternalStateModule","defineIterator","STRING_ITERATOR","setInternalState","getInternalState","getterFor","iterated","string","index","point","_interopRequireWildcard","_assertThisInitialized2","POPUP","IFRAME","UI","_showPopupRequest","_networkUtils","_deferred","POPUP_REQUEST_TIMEOUT","POPUP_CLOSE_INTERVAL","POPUP_OPEN_TIMEOUT","PopupManager","_EventEmitter","handleMessage","iframeHandshake","handleExtensionConnect","handleExtensionMessage","addListener","_this2","locked","_window","tabs","update","active","focus","openFn","timeout","requestTimeout","cancel","close","unlock","_this3","openWrapper","closeInterval","setInterval","tab","emit","CLOSED","closed","openTimeout","showPopupRequest","_this4","windows","getCurrent","currentWindow","newWindow","query","windowId","extensionTabId","href","port","sender","disconnect","clearTimeout","extensionPort","onMessage","_this5","data","errorMessage","payload","EXTENSION_USB_PERMISSIONS","CLOSE_WINDOW","_this6","CANCEL_POPUP_REQUEST","clearInterval","remove","lastError","_this7","onBeforeUnload","layerID","layerInnerHtml","document","getElementById","div","createElement","className","innerHTML","appendChild","button","getElementsByClassName","onclick","removeChild","getBuiltIn","anObject","nativeConstruct","NEW_TARGET_BUG","F","ARGS_BUG","FORCED","Target","newTarget","$args","proto","collectionStrong","dispose","messagePromises","initPromise","_errors","_inlineStyles","_messageID","existedFrame","manifestString","onLoad","frameBorder","width","height","style","position","display","border","encodeURIComponent","btoa","now","setAttribute","iframeOrigin","contentWindow","handleIframeBlocked","attachEvent","injectStyleSheet","parentNode","finish","doc","ownerDocument","head","getElementsByTagName","styleSheet","cssText","createTextNode","usePromise","toInteger","requireObjectCoercible","createMethod","CONVERT_TO_STRING","$this","pos","first","second","S","size","charCodeAt","codeAt","f","anInstance","iterate","setSpecies","DESCRIPTORS","fastKey","internalStateGetterFor","CONSTRUCTOR_NAME","IS_MAP","ADDER","last","define","previous","entry","getEntry","removed","clear","callbackfn","add","setStrong","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","kind","isForced","redefine","checkCorrectnessOfIteration","setToStringTag","inheritIfRequired","common","IS_WEAK","NativeConstructor","NativePrototype","Constructor","exported","fixMethod","KEY","nativeMethod","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","dummy","require","isNativeReflectConstruct","_construct","Parent","Class","Reflect","_getPrototypeOf","o","__proto__","_exportNames","_constants","_node","_types","TrezorConnect","getSettings","on","eventEmitter","off","removeListener","removeAllListeners","uiResponse","blockchainGetAccountBalanceHistory","params","blockchainGetCurrentFiatRates","blockchainGetFiatRatesForTimestamps","blockchainDisconnect","blockchainEstimateFee","blockchainGetTransactions","blockchainSetCustomBackend","blockchainSubscribe","blockchainSubscribeFiatRates","blockchainUnsubscribe","blockchainUnsubscribeFiatRates","customMessage","requestLogin","cardanoGetAddress","useEventListener","listenerCount","cardanoGetPublicKey","cardanoSignTransaction","cipherKeyValue","composeTransaction","debugLinkDecision","debugLinkGetState","ethereumGetAddress","ethereumGetPublicKey","ethereumSignMessage","ethereumSignTransaction","ethereumVerifyMessage","getAccountInfo","getAddress","getDeviceState","getFeatures","getPublicKey","liskGetAddress","liskGetPublicKey","liskSignMessage","liskSignTransaction","liskVerifyMessage","nemGetAddress","nemSignTransaction","pushTransaction","rippleGetAddress","rippleSignTransaction","signMessage","signTransaction","stellarGetAddress","stellarSignTransaction","tezosGetAddress","tezosGetPublicKey","tezosSignTransaction","eosGetPublicKey","eosSignTransaction","binanceGetAddress","binanceGetPublicKey","binanceSignTransaction","verifyMessage","resetDevice","wipeDevice","applyFlags","applySettings","backupDevice","changePin","firmwareUpdate","recoveryDevice","renderWebUSBButton","disableWebUSB","_default","_typeof","_getRequireWildcardCache","WeakMap","cache","newObj","hasPropertyDescriptor","desc","HANDSHAKE","_isNativeReflectConstruct","Proxy","parseMessage","messageData","event","success","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","_PopupManager","iframe","_button","_message","_ConnectSettings","_debug","_settings","_popupManager","_log","initPopupManager","pm","messageEvent","RESPONSE_EVENT","DEVICE_EVENT","TRANSPORT_EVENT","BLOCKCHAIN_EVENT","UI_EVENT","ERRORS","t1","customMessageResponse","_ref3","_callee3","_context3","_ref4","_callee5","customMessageListener","_context5","_ref5","_callee4","_context4","_x4","_x3","_ref6","_callee7","loginChallengeListener","_context7","_ref7","_callee6","_context6","_x6","asyncChallenge","_x5","DISABLE_WEBUSB","getWeakData","ArrayIterationModule","$has","findIndex","uncaughtFrozenStore","store","UncaughtFrozenStore","findUncaughtFrozen","splice","DEVICE","BLOCKCHAIN","CORE_EVENT","render","buttons","querySelectorAll","bounds","getBoundingClientRect","btnIframe","Math","round","top","left","zIndex","START_PENDING","REQUEST","STREAM","UPDATE","START","UNREADABLE","WAIT_FOR_SELECTION","WORD","PASSPHRASE_ON_DEVICE","PASSPHRASE","PIN","BUTTON","USED_ELSEWHERE","RELEASED","ACQUIRED","RELEASE","ACQUIRE","CHANGED","DISCONNECT","CONNECT_UNACQUIRED","_setPrototypeOf","p","defineWellKnownSymbol","DOMIterables","ArrayIteratorMethods","createNonEnumerableProperty","wellKnownSymbol","ITERATOR","TO_STRING_TAG","ArrayValues","COLLECTION_NAME","Collection","CollectionPrototype","METHOD_NAME","copyConstructorProperties","NativeSymbol","description","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","regexp","symbol","valueOf","FIAT_RATES_UPDATE","NOTIFICATION","BLOCK","isNativeFunction","_wrapNativeSuper","_cache","Map","Wrapper","_isNativeFunction","_inheritsLoose","subClass","superClass"],"mappings":"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","file":"js/chunk-09b44926.cabdeb45.js","sourcesContent":["'use strict';\nvar aFunction = require('../internals/a-function');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","\"use strict\";\n\nexports.__esModule = true;\nexports.popupConsole = exports.enableByPrefix = exports.getLog = exports.enable = exports.init = exports[\"default\"] = void 0;\n\nvar _this = void 0;\n\n// https://stackoverflow.com/questions/7505623/colors-in-javascript-console\n// https://github.com/pimterry/loglevel/blob/master/lib/loglevel.js\n// http://www.color-hex.com/color-palette/5016\nvar colors = {\n  // green\n  'DescriptorStream': 'color: #77ab59',\n  'DeviceList': 'color: #36802d',\n  'Device': 'color: #bada55',\n  'Core': 'color: #c9df8a',\n  'IFrame': 'color: #FFFFFF; background: #f4a742;',\n  'Popup': 'color: #f48a00'\n};\n\nvar Log = /*#__PURE__*/function () {\n  function Log(prefix, enabled) {\n    if (enabled === void 0) {\n      enabled = false;\n    }\n\n    this.prefix = prefix;\n    this.enabled = enabled;\n    this.messages = [];\n    this.css = colors[prefix] || 'color: #000000; background: #FFFFFF;';\n  }\n\n  var _proto = Log.prototype;\n\n  _proto.addMessage = function addMessage(level, prefix) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    this.messages.push({\n      level: level,\n      prefix: prefix,\n      message: args,\n      timestamp: new Date().getTime()\n    });\n  };\n\n  _proto.log = function log() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    this.addMessage.apply(this, ['log', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console;\n\n      (_console = console).log.apply(_console, [this.prefix].concat(args));\n    }\n  };\n\n  _proto.error = function error() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    this.addMessage.apply(this, ['error', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console2;\n\n      (_console2 = console).error.apply(_console2, [this.prefix].concat(args));\n    }\n  };\n\n  _proto.warn = function warn() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    this.addMessage.apply(this, ['warn', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console3;\n\n      (_console3 = console).warn.apply(_console3, [this.prefix].concat(args));\n    }\n  };\n\n  _proto.debug = function debug() {\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    this.addMessage.apply(this, ['debug', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console4;\n\n      (_console4 = console).log.apply(_console4, ['%c' + this.prefix, this.css].concat(args));\n    }\n  };\n\n  return Log;\n}();\n\nexports[\"default\"] = Log;\nvar _logs = {};\n\nvar init = function init(prefix, enabled) {\n  var enab = typeof enabled === 'boolean' ? enabled : false;\n  var instance = new Log(prefix, enab);\n  _logs[prefix] = instance;\n  return instance;\n};\n\nexports.init = init;\n\nvar enable = function enable(enabled) {\n  for (var _i = 0, _Object$keys = Object.keys(_logs); _i < _Object$keys.length; _i++) {\n    var l = _Object$keys[_i];\n    _logs[l].enabled = enabled;\n  }\n};\n\nexports.enable = enable;\n\nvar getLog = function getLog(args) {\n  // if\n  var logs = [];\n\n  for (var _i2 = 0, _Object$keys2 = Object.keys(_logs); _i2 < _Object$keys2.length; _i2++) {\n    var l = _Object$keys2[_i2];\n    logs = logs.concat(_logs[l].messages);\n  }\n\n  logs.sort(function (a, b) {\n    return a.timestamp - b.timestamp;\n  });\n  return logs;\n};\n\nexports.getLog = getLog;\n\nvar enableByPrefix = function enableByPrefix(prefix, enabled) {\n  if (_logs[prefix]) {\n    _logs[prefix].enabled = enabled;\n  }\n}; // TODO: enable/disable log at runtime\n\n\nexports.enableByPrefix = enableByPrefix;\n\nvar popupConsole = function popupConsole(tag, postMessage) {\n  var c = global.console;\n  var orig = {\n    error: c.error,\n    // warn: c.warn,\n    info: c.info,\n    debug: c.debug,\n    log: c.log\n  };\n  var log = [];\n\n  var inject = function inject(method, level) {\n    return function () {\n      // args.unshift('[popup.js]');\n      var time = new Date().toUTCString();\n\n      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n\n      log.push([level, time].concat(args));\n      postMessage.apply(_this, [{\n        type: tag,\n        level: level,\n        time: time,\n        args: JSON.stringify(args)\n      } // { type: 'LOG', level: level, time: time, args: JSON.stringify(deepClone(args)) }\n      ]);\n      return method.apply(c, args);\n    };\n  };\n\n  for (var level in orig) {\n    c[level] = inject(orig[level], level);\n  }\n};\n\nexports.popupConsole = popupConsole;","\"use strict\";\n\nexports.__esModule = true;\n\nvar _api = require(\"./api\");\n\nObject.keys(_api).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _api[key];\n});\n\nvar _events = require(\"./events\");\n\nObject.keys(_events).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _events[key];\n});\n\nvar _misc = require(\"./misc\");\n\nObject.keys(_misc).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _misc[key];\n});\n\nvar _params = require(\"./params\");\n\nObject.keys(_params).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _params[key];\n});\n\nvar _account = require(\"./account\");\n\nObject.keys(_account).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _account[key];\n});\n\nvar _device = require(\"./trezor/device\");\n\nObject.keys(_device).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _device[key];\n});\n\nvar _management = require(\"./trezor/management\");\n\nObject.keys(_management).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _management[key];\n});\n\nvar _bitcoin = require(\"./networks/bitcoin\");\n\nObject.keys(_bitcoin).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _bitcoin[key];\n});\n\nvar _binance = require(\"./networks/binance\");\n\nObject.keys(_binance).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _binance[key];\n});\n\nvar _cardano = require(\"./networks/cardano\");\n\nObject.keys(_cardano).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _cardano[key];\n});\n\nvar _coinInfo = require(\"./networks/coinInfo\");\n\nObject.keys(_coinInfo).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _coinInfo[key];\n});\n\nvar _eos = require(\"./networks/eos\");\n\nObject.keys(_eos).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _eos[key];\n});\n\nvar _ethereum = require(\"./networks/ethereum\");\n\nObject.keys(_ethereum).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _ethereum[key];\n});\n\nvar _lisk = require(\"./networks/lisk\");\n\nObject.keys(_lisk).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _lisk[key];\n});\n\nvar _nem = require(\"./networks/nem\");\n\nObject.keys(_nem).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _nem[key];\n});\n\nvar _ripple = require(\"./networks/ripple\");\n\nObject.keys(_ripple).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _ripple[key];\n});\n\nvar _stellar = require(\"./networks/stellar\");\n\nObject.keys(_stellar).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _stellar[key];\n});\n\nvar _tezos = require(\"./networks/tezos\");\n\nObject.keys(_tezos).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _tezos[key];\n});\n\nvar _blockchain = require(\"./backend/blockchain\");\n\nObject.keys(_blockchain).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _blockchain[key];\n});\n\nvar _transactions = require(\"./backend/transactions\");\n\nObject.keys(_transactions).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _transactions[key];\n});","'use strict';\nvar global = require('../internals/global');\nvar redefineAll = require('../internals/redefine-all');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar collection = require('../internals/collection');\nvar collectionWeak = require('../internals/collection-weak');\nvar isObject = require('../internals/is-object');\nvar enforceIternalState = require('../internals/internal-state').enforce;\nvar NATIVE_WEAK_MAP = require('../internals/native-weak-map');\n\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\nvar isExtensible = Object.isExtensible;\nvar InternalWeakMap;\n\nvar wrapper = function (init) {\n  return function WeakMap() {\n    return init(this, arguments.length ? arguments[0] : undefined);\n  };\n};\n\n// `WeakMap` constructor\n// https://tc39.github.io/ecma262/#sec-weakmap-constructor\nvar $WeakMap = module.exports = collection('WeakMap', wrapper, collectionWeak);\n\n// IE11 WeakMap frozen keys fix\n// We can't use feature detection because it crash some old IE builds\n// https://github.com/zloirock/core-js/issues/485\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalWeakMap = collectionWeak.getConstructor(wrapper, 'WeakMap', true);\n  InternalMetadataModule.REQUIRED = true;\n  var WeakMapPrototype = $WeakMap.prototype;\n  var nativeDelete = WeakMapPrototype['delete'];\n  var nativeHas = WeakMapPrototype.has;\n  var nativeGet = WeakMapPrototype.get;\n  var nativeSet = WeakMapPrototype.set;\n  redefineAll(WeakMapPrototype, {\n    'delete': function (key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeDelete.call(this, key) || state.frozen['delete'](key);\n      } return nativeDelete.call(this, key);\n    },\n    has: function has(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas.call(this, key) || state.frozen.has(key);\n      } return nativeHas.call(this, key);\n    },\n    get: function get(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas.call(this, key) ? nativeGet.call(this, key) : state.frozen.get(key);\n      } return nativeGet.call(this, key);\n    },\n    set: function set(key, value) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        nativeHas.call(this, key) ? nativeSet.call(this, key, value) : state.frozen.set(key, value);\n      } else nativeSet.call(this, key, value);\n      return this;\n    }\n  });\n}\n","var $ = require('../internals/export');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n$({ target: 'Object', stat: true }, {\n  setPrototypeOf: setPrototypeOf\n});\n","\"use strict\";\n\nexports.__esModule = true;\nexports.ADDRESS_VALIDATION = exports.BUNDLE_PROGRESS = exports.LOGIN_CHALLENGE_RESPONSE = exports.LOGIN_CHALLENGE_REQUEST = exports.CUSTOM_MESSAGE_RESPONSE = exports.CUSTOM_MESSAGE_REQUEST = exports.CHANGE_SETTINGS = exports.RECEIVE_WORD = exports.RECEIVE_FEE = exports.RECEIVE_ACCOUNT = exports.CHANGE_ACCOUNT = exports.RECEIVE_DEVICE = exports.RECEIVE_PASSPHRASE = exports.RECEIVE_PIN = exports.RECEIVE_CONFIRMATION = exports.RECEIVE_PERMISSION = exports.REQUEST_WORD = exports.REQUEST_BUTTON = exports.INSUFFICIENT_FUNDS = exports.UPDATE_CUSTOM_FEE = exports.SELECT_FEE = exports.SELECT_ACCOUNT = exports.SELECT_DEVICE = exports.SET_OPERATION = exports.LOADING = exports.CONNECT = exports.INVALID_PASSPHRASE_ACTION = exports.INVALID_PASSPHRASE = exports.REQUEST_PASSPHRASE_ON_DEVICE = exports.REQUEST_PASSPHRASE = exports.INVALID_PIN = exports.REQUEST_PIN = exports.REQUEST_CONFIRMATION = exports.REQUEST_PERMISSION = exports.CLOSE_UI_WINDOW = exports.REQUEST_UI_WINDOW = exports.DEVICE_NEEDS_BACKUP = exports.FIRMWARE_PROGRESS = exports.FIRMWARE_NOT_INSTALLED = exports.FIRMWARE_NOT_COMPATIBLE = exports.FIRMWARE_NOT_SUPPORTED = exports.FIRMWARE_OUTDATED = exports.FIRMWARE_OLD = exports.SEEDLESS = exports.INITIALIZE = exports.REQUIRE_MODE = exports.NOT_IN_BOOTLOADER = exports.BOOTLOADER = exports.TRANSPORT = void 0;\nvar TRANSPORT = 'ui-no_transport';\nexports.TRANSPORT = TRANSPORT;\nvar BOOTLOADER = 'ui-device_bootloader_mode';\nexports.BOOTLOADER = BOOTLOADER;\nvar NOT_IN_BOOTLOADER = 'ui-device_not_in_bootloader_mode';\nexports.NOT_IN_BOOTLOADER = NOT_IN_BOOTLOADER;\nvar REQUIRE_MODE = 'ui-device_require_mode';\nexports.REQUIRE_MODE = REQUIRE_MODE;\nvar INITIALIZE = 'ui-device_not_initialized';\nexports.INITIALIZE = INITIALIZE;\nvar SEEDLESS = 'ui-device_seedless';\nexports.SEEDLESS = SEEDLESS;\nvar FIRMWARE_OLD = 'ui-device_firmware_old';\nexports.FIRMWARE_OLD = FIRMWARE_OLD;\nvar FIRMWARE_OUTDATED = 'ui-device_firmware_outdated';\nexports.FIRMWARE_OUTDATED = FIRMWARE_OUTDATED;\nvar FIRMWARE_NOT_SUPPORTED = 'ui-device_firmware_unsupported';\nexports.FIRMWARE_NOT_SUPPORTED = FIRMWARE_NOT_SUPPORTED;\nvar FIRMWARE_NOT_COMPATIBLE = 'ui-device_firmware_not_compatible';\nexports.FIRMWARE_NOT_COMPATIBLE = FIRMWARE_NOT_COMPATIBLE;\nvar FIRMWARE_NOT_INSTALLED = 'ui-device_firmware_not_installed';\nexports.FIRMWARE_NOT_INSTALLED = FIRMWARE_NOT_INSTALLED;\nvar FIRMWARE_PROGRESS = 'ui-firmware-progress';\nexports.FIRMWARE_PROGRESS = FIRMWARE_PROGRESS;\nvar DEVICE_NEEDS_BACKUP = 'ui-device_needs_backup';\nexports.DEVICE_NEEDS_BACKUP = DEVICE_NEEDS_BACKUP;\nvar REQUEST_UI_WINDOW = 'ui-request_window';\nexports.REQUEST_UI_WINDOW = REQUEST_UI_WINDOW;\nvar CLOSE_UI_WINDOW = 'ui-close_window';\nexports.CLOSE_UI_WINDOW = CLOSE_UI_WINDOW;\nvar REQUEST_PERMISSION = 'ui-request_permission';\nexports.REQUEST_PERMISSION = REQUEST_PERMISSION;\nvar REQUEST_CONFIRMATION = 'ui-request_confirmation';\nexports.REQUEST_CONFIRMATION = REQUEST_CONFIRMATION;\nvar REQUEST_PIN = 'ui-request_pin';\nexports.REQUEST_PIN = REQUEST_PIN;\nvar INVALID_PIN = 'ui-invalid_pin';\nexports.INVALID_PIN = INVALID_PIN;\nvar REQUEST_PASSPHRASE = 'ui-request_passphrase';\nexports.REQUEST_PASSPHRASE = REQUEST_PASSPHRASE;\nvar REQUEST_PASSPHRASE_ON_DEVICE = 'ui-request_passphrase_on_device';\nexports.REQUEST_PASSPHRASE_ON_DEVICE = REQUEST_PASSPHRASE_ON_DEVICE;\nvar INVALID_PASSPHRASE = 'ui-invalid_passphrase';\nexports.INVALID_PASSPHRASE = INVALID_PASSPHRASE;\nvar INVALID_PASSPHRASE_ACTION = 'ui-invalid_passphrase_action';\nexports.INVALID_PASSPHRASE_ACTION = INVALID_PASSPHRASE_ACTION;\nvar CONNECT = 'ui-connect';\nexports.CONNECT = CONNECT;\nvar LOADING = 'ui-loading';\nexports.LOADING = LOADING;\nvar SET_OPERATION = 'ui-set_operation';\nexports.SET_OPERATION = SET_OPERATION;\nvar SELECT_DEVICE = 'ui-select_device';\nexports.SELECT_DEVICE = SELECT_DEVICE;\nvar SELECT_ACCOUNT = 'ui-select_account';\nexports.SELECT_ACCOUNT = SELECT_ACCOUNT;\nvar SELECT_FEE = 'ui-select_fee';\nexports.SELECT_FEE = SELECT_FEE;\nvar UPDATE_CUSTOM_FEE = 'ui-update_custom_fee';\nexports.UPDATE_CUSTOM_FEE = UPDATE_CUSTOM_FEE;\nvar INSUFFICIENT_FUNDS = 'ui-insufficient_funds';\nexports.INSUFFICIENT_FUNDS = INSUFFICIENT_FUNDS;\nvar REQUEST_BUTTON = 'ui-button';\nexports.REQUEST_BUTTON = REQUEST_BUTTON;\nvar REQUEST_WORD = 'ui-request_word';\nexports.REQUEST_WORD = REQUEST_WORD;\nvar RECEIVE_PERMISSION = 'ui-receive_permission';\nexports.RECEIVE_PERMISSION = RECEIVE_PERMISSION;\nvar RECEIVE_CONFIRMATION = 'ui-receive_confirmation';\nexports.RECEIVE_CONFIRMATION = RECEIVE_CONFIRMATION;\nvar RECEIVE_PIN = 'ui-receive_pin';\nexports.RECEIVE_PIN = RECEIVE_PIN;\nvar RECEIVE_PASSPHRASE = 'ui-receive_passphrase';\nexports.RECEIVE_PASSPHRASE = RECEIVE_PASSPHRASE;\nvar RECEIVE_DEVICE = 'ui-receive_device';\nexports.RECEIVE_DEVICE = RECEIVE_DEVICE;\nvar CHANGE_ACCOUNT = 'ui-change_account';\nexports.CHANGE_ACCOUNT = CHANGE_ACCOUNT;\nvar RECEIVE_ACCOUNT = 'ui-receive_account';\nexports.RECEIVE_ACCOUNT = RECEIVE_ACCOUNT;\nvar RECEIVE_FEE = 'ui-receive_fee';\nexports.RECEIVE_FEE = RECEIVE_FEE;\nvar RECEIVE_WORD = 'ui-receive_word';\nexports.RECEIVE_WORD = RECEIVE_WORD;\nvar CHANGE_SETTINGS = 'ui-change_settings';\nexports.CHANGE_SETTINGS = CHANGE_SETTINGS;\nvar CUSTOM_MESSAGE_REQUEST = 'ui-custom_request';\nexports.CUSTOM_MESSAGE_REQUEST = CUSTOM_MESSAGE_REQUEST;\nvar CUSTOM_MESSAGE_RESPONSE = 'ui-custom_response';\nexports.CUSTOM_MESSAGE_RESPONSE = CUSTOM_MESSAGE_RESPONSE;\nvar LOGIN_CHALLENGE_REQUEST = 'ui-login_challenge_request';\nexports.LOGIN_CHALLENGE_REQUEST = LOGIN_CHALLENGE_REQUEST;\nvar LOGIN_CHALLENGE_RESPONSE = 'ui-login_challenge_response';\nexports.LOGIN_CHALLENGE_RESPONSE = LOGIN_CHALLENGE_RESPONSE;\nvar BUNDLE_PROGRESS = 'ui-bundle_progress';\nexports.BUNDLE_PROGRESS = BUNDLE_PROGRESS;\nvar ADDRESS_VALIDATION = 'ui-address_validation';\nexports.ADDRESS_VALIDATION = ADDRESS_VALIDATION;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.create = create;\nexports.createAsync = createAsync;\nexports.resolveTimeoutPromise = resolveTimeoutPromise;\nexports.rejectTimeoutPromise = rejectTimeoutPromise;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nfunction create(arg, device) {\n  var localResolve = function localResolve(t) {};\n\n  var localReject = function localReject(e) {};\n\n  var id; // eslint-disable-next-line no-async-promise-executor\n\n  var promise = new Promise( /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(resolve, reject) {\n      return _regenerator[\"default\"].wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              localResolve = resolve;\n              localReject = reject;\n\n              if (!(typeof arg === 'function')) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.prev = 3;\n              _context.next = 6;\n              return arg();\n\n            case 6:\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](3);\n              reject(_context.t0);\n\n            case 11:\n              if (typeof arg === 'string') id = arg;\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 8]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n  return {\n    id: id,\n    device: device,\n    resolve: localResolve,\n    reject: localReject,\n    promise: promise\n  };\n}\n\nfunction createAsync(innerFn) {\n  var localResolve = function localResolve(t) {};\n\n  var localReject = function localReject(e) {};\n\n  var promise = new Promise(function (resolve, reject) {\n    localResolve = resolve;\n    localReject = reject;\n  });\n\n  var inner = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2() {\n      return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return innerFn();\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function inner() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return {\n    resolve: localResolve,\n    reject: localReject,\n    promise: promise,\n    run: function run() {\n      inner();\n      return promise;\n    }\n  };\n}\n\nfunction resolveTimeoutPromise(delay, result) {\n  return new Promise(function (resolve) {\n    setTimeout(function () {\n      resolve(result);\n    }, delay);\n  });\n}\n\nfunction rejectTimeoutPromise(delay, error) {\n  return new Promise(function (resolve, reject) {\n    setTimeout(function () {\n      reject(error);\n    }, delay);\n  });\n}","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar nativeGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.parse = exports.corsValidator = exports.getEnv = exports.DEFAULT_PRIORITY = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/*\n * Initial settings for connect.\n * It could be changed by passing values into TrezorConnect.init(...) method\n */\nvar VERSION = '8.1.5';\nvar versionN = VERSION.split('.').map(function (s) {\n  return parseInt(s);\n}); // const DIRECTORY = `${ versionN[0] }${ (versionN[1] > 0 ? `.${versionN[1]}` : '') }/`;\n\nvar DIRECTORY = versionN[0] + \"/\";\nvar DEFAULT_DOMAIN = \"https://connect.trezor.io/\" + DIRECTORY;\nvar DEFAULT_PRIORITY = 2;\nexports.DEFAULT_PRIORITY = DEFAULT_PRIORITY;\nvar initialSettings = {\n  configSrc: './data/config.json',\n  // constant\n  version: VERSION,\n  // constant\n  debug: false,\n  priority: DEFAULT_PRIORITY,\n  trustedHost: false,\n  connectSrc: DEFAULT_DOMAIN,\n  iframeSrc: DEFAULT_DOMAIN + \"iframe.html\",\n  popup: true,\n  popupSrc: DEFAULT_DOMAIN + \"popup.html\",\n  webusbSrc: DEFAULT_DOMAIN + \"webusb.html\",\n  transportReconnect: false,\n  webusb: true,\n  pendingTransportEvent: true,\n  supportedBrowser: typeof navigator !== 'undefined' ? !/Trident|MSIE|Edge/.test(navigator.userAgent) : true,\n  manifest: null,\n  env: 'web',\n  lazyLoad: false,\n  timestamp: new Date().getTime()\n};\nvar currentSettings = initialSettings;\n\nvar parseManifest = function parseManifest(manifest) {\n  if (!manifest) return;\n  if (typeof manifest.email !== 'string') return;\n  if (typeof manifest.appUrl !== 'string') return;\n  return {\n    email: manifest.email,\n    appUrl: manifest.appUrl\n  };\n};\n\nvar getEnv = function getEnv() {\n  // $FlowIssue: chrome is not declared outside the project\n  if (typeof chrome !== 'undefined' && chrome.runtime && typeof chrome.runtime.onConnect !== 'undefined') {\n    return 'webextension';\n  }\n\n  if (typeof navigator !== 'undefined') {\n    if (typeof navigator.product === 'string' && navigator.product.toLowerCase() === 'reactnative') {\n      return 'react-native';\n    }\n\n    var userAgent = navigator.userAgent.toLowerCase();\n\n    if (userAgent.indexOf(' electron/') > -1) {\n      return 'electron';\n    }\n  } // if (typeof navigator !== 'undefined' && typeof navigator.product === 'string' && navigator.product.toLowerCase() === 'reactnative') {\n  //     return 'react-native';\n  // }\n  // if (typeof process !== 'undefined' && process.versions.hasOwnProperty('electron')) {\n  //     return 'electron';\n  // }\n\n\n  return 'web';\n}; // Cors validation copied from Trezor Bridge\n// see: https://github.com/trezor/trezord-go/blob/05991cea5900d18bcc6ece5ae5e319d138fc5551/server/api/api.go#L229\n// Its pointless to allow `trezor-connect` endpoints { connectSrc } for domains other than listed below\n// `trezord` will block communication anyway\n\n\nexports.getEnv = getEnv;\n\nvar corsValidator = function corsValidator(url) {\n  if (typeof url !== 'string') return;\n  if (url.match(/^https:\\/\\/([A-Za-z0-9\\-_]+\\.)*trezor\\.io\\//)) return url;\n  if (url.match(/^https?:\\/\\/localhost:[58][0-9]{3}\\//)) return url;\n  if (url.match(/^https:\\/\\/([A-Za-z0-9\\-_]+\\.)*sldev\\.cz\\//)) return url;\n};\n\nexports.corsValidator = corsValidator;\n\nvar parse = function parse(input) {\n  if (input === void 0) {\n    input = {};\n  }\n\n  var settings = _objectSpread({}, currentSettings);\n\n  if (Object.prototype.hasOwnProperty.call(input, 'debug')) {\n    if (Array.isArray(input)) {// enable log with prefix\n    }\n\n    if (typeof input.debug === 'boolean') {\n      settings.debug = input.debug;\n    } else if (typeof input.debug === 'string') {\n      settings.debug = input.debug === 'true';\n    }\n  }\n\n  if (typeof input.connectSrc === 'string') {\n    settings.connectSrc = input.connectSrc;\n  } // For debugging purposes `connectSrc` could be defined in `global.__TREZOR_CONNECT_SRC` variable\n\n\n  if (typeof global !== 'undefined' && typeof global.__TREZOR_CONNECT_SRC === 'string') {\n    settings.connectSrc = corsValidator(global.__TREZOR_CONNECT_SRC);\n  } // For debugging purposes `connectSrc` could be defined in url query of hosting page. Usage:\n  // https://3rdparty-page.com/?trezor-connect-src=https://localhost:8088/\n\n\n  if (typeof window !== 'undefined' && window.location && typeof window.location.search === 'string') {\n    var vars = window.location.search.split('&');\n    var customUrl = vars.find(function (v) {\n      return v.indexOf('trezor-connect-src') >= 0;\n    });\n\n    if (customUrl) {\n      var _customUrl$split = customUrl.split('='),\n          connectSrc = _customUrl$split[1];\n\n      settings.connectSrc = corsValidator(decodeURIComponent(connectSrc));\n    }\n  }\n\n  var src = settings.connectSrc || DEFAULT_DOMAIN;\n  settings.iframeSrc = src + \"iframe.html\";\n  settings.popupSrc = src + \"popup.html\";\n  settings.webusbSrc = src + \"webusb.html\";\n\n  if (typeof input.transportReconnect === 'boolean') {\n    settings.transportReconnect = input.transportReconnect;\n  }\n\n  if (typeof input.webusb === 'boolean') {\n    settings.webusb = input.webusb;\n  }\n\n  if (typeof input.popup === 'boolean') {\n    settings.popup = input.popup;\n  }\n\n  if (typeof input.lazyLoad === 'boolean') {\n    settings.lazyLoad = input.lazyLoad;\n  }\n\n  if (typeof input.pendingTransportEvent === 'boolean') {\n    settings.pendingTransportEvent = input.pendingTransportEvent;\n  } // local files\n\n\n  if (typeof window !== 'undefined' && window.location && window.location.protocol === 'file:') {\n    settings.origin = \"file://\" + window.location.pathname;\n    settings.webusb = false;\n  }\n\n  if (typeof input.extension === 'string') {\n    settings.extension = input.extension;\n  }\n\n  if (typeof input.env === 'string') {\n    settings.env = input.env;\n  } else {\n    settings.env = getEnv();\n  }\n\n  if (typeof input.timestamp === 'number') {\n    settings.timestamp = input.timestamp;\n  }\n\n  if (typeof input.manifest === 'object') {\n    settings.manifest = parseManifest(input.manifest);\n  }\n\n  currentSettings = settings;\n  return currentSettings;\n};\n\nexports.parse = parse;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.getOrigin = exports.httpRequest = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nrequire(\"whatwg-fetch\");\n\nvar httpRequest = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(url, type) {\n    var response, txt;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (type === void 0) {\n              type = 'text';\n            }\n\n            _context.next = 3;\n            return fetch(url, {\n              credentials: 'same-origin'\n            });\n\n          case 3:\n            response = _context.sent;\n\n            if (!response.ok) {\n              _context.next = 23;\n              break;\n            }\n\n            if (!(type === 'json')) {\n              _context.next = 12;\n              break;\n            }\n\n            _context.next = 8;\n            return response.text();\n\n          case 8:\n            txt = _context.sent;\n            return _context.abrupt(\"return\", JSON.parse(txt));\n\n          case 12:\n            if (!(type === 'binary')) {\n              _context.next = 18;\n              break;\n            }\n\n            _context.next = 15;\n            return response.arrayBuffer();\n\n          case 15:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 18:\n            _context.next = 20;\n            return response.text();\n\n          case 20:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 21:\n            _context.next = 24;\n            break;\n\n          case 23:\n            throw new Error(\"httpRequest error: \" + url + \" \" + response.statusText);\n\n          case 24:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function httpRequest(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.httpRequest = httpRequest;\n\nvar getOrigin = function getOrigin(url) {\n  if (url.indexOf('file://') === 0) return 'file://'; // eslint-disable-next-line no-irregular-whitespace, no-useless-escape\n\n  var parts = url.match(/^.+\\:\\/\\/[^\\/]+/);\n  return Array.isArray(parts) && parts.length > 0 ? parts[0] : 'unknown';\n};\n\nexports.getOrigin = getOrigin;","var support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n","\"use strict\";\n\nexports.__esModule = true;\nexports.CALL = exports.ERROR = exports.INIT = exports.LOADED = exports.BOOTSTRAP = void 0;\n// Message called from iframe.html inline script before \"window.onload\" event. This is first message from iframe to window.opener.\nvar BOOTSTRAP = 'iframe-bootstrap'; // Message from iframe.js to window.opener, called after \"window.onload\" event. This is second message from iframe to window.opener.\n\nexports.BOOTSTRAP = BOOTSTRAP;\nvar LOADED = 'iframe-loaded'; // Message from window.opener to iframe.js\n\nexports.LOADED = LOADED;\nvar INIT = 'iframe-init'; // Error message from iframe.js to window.opener. Could be thrown during iframe initialization process\n\nexports.INIT = INIT;\nvar ERROR = 'iframe-error'; // Message from window.opener to iframe. Call method\n\nexports.ERROR = ERROR;\nvar CALL = 'iframe-call';\nexports.CALL = CALL;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.NO_COIN_INFO = exports.BACKEND_NO_URL = exports.backendNotSupported = exports.WEBUSB_ERROR_MESSAGE = exports.INVALID_PIN_ERROR_MESSAGE = exports.WRONG_PREVIOUS_SESSION_ERROR_MESSAGE = exports.INVALID_STATE = exports.CALL_OVERRIDE = exports.INITIALIZATION_FAILED = exports.DEVICE_USED_ELSEWHERE = exports.PERMISSIONS_NOT_GRANTED = exports.POPUP_CLOSED = exports.INVALID_PARAMETERS = exports.DEVICE_CALL_IN_PROGRESS = exports.DEVICE_NOT_FOUND = exports.WRONG_TRANSPORT_CONFIG = exports.NO_TRANSPORT = exports.MANAGEMENT_NOT_ALLOWED = exports.MANIFEST_NOT_SET = exports.BROWSER_NOT_SUPPORTED = exports.POPUP_TIMEOUT = exports.IFRAME_TIMEOUT = exports.IFRAME_INITIALIZED = exports.IFRAME_BLOCKED = exports.NO_IFRAME = exports.invalidParameter = exports.TrezorError = void 0;\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _wrapNativeSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/wrapNativeSuper\"));\n\nvar TrezorError = /*#__PURE__*/function (_Error) {\n  (0, _inheritsLoose2[\"default\"])(TrezorError, _Error);\n\n  function TrezorError(code, message) {\n    var _this;\n\n    _this = _Error.call(this, message) || this;\n    _this.code = code;\n    _this.message = message;\n    return _this;\n  }\n\n  return TrezorError;\n}( /*#__PURE__*/(0, _wrapNativeSuper2[\"default\"])(Error));\n\nexports.TrezorError = TrezorError;\n\nvar invalidParameter = function invalidParameter(message) {\n  return new TrezorError('Connect_InvalidParameter', message);\n}; // level 100 error during initialization\n\n\nexports.invalidParameter = invalidParameter;\nvar NO_IFRAME = new TrezorError(100, 'TrezorConnect not yet initialized');\nexports.NO_IFRAME = NO_IFRAME;\nvar IFRAME_BLOCKED = new TrezorError('iframe_blocked', 'TrezorConnect iframe was blocked');\nexports.IFRAME_BLOCKED = IFRAME_BLOCKED;\nvar IFRAME_INITIALIZED = new TrezorError(101, 'TrezorConnect has been already initialized');\nexports.IFRAME_INITIALIZED = IFRAME_INITIALIZED;\nvar IFRAME_TIMEOUT = new TrezorError(102, 'Iframe timeout');\nexports.IFRAME_TIMEOUT = IFRAME_TIMEOUT;\nvar POPUP_TIMEOUT = new TrezorError(103, 'Popup timeout');\nexports.POPUP_TIMEOUT = POPUP_TIMEOUT;\nvar BROWSER_NOT_SUPPORTED = new TrezorError(104, 'Browser not supported');\nexports.BROWSER_NOT_SUPPORTED = BROWSER_NOT_SUPPORTED;\nvar MANIFEST_NOT_SET = new TrezorError(105, 'Manifest not set. Read more at https://github.com/trezor/connect/blob/develop/docs/index.md');\nexports.MANIFEST_NOT_SET = MANIFEST_NOT_SET;\nvar MANAGEMENT_NOT_ALLOWED = new TrezorError(105, 'Management method not allowed for this configuration');\nexports.MANAGEMENT_NOT_ALLOWED = MANAGEMENT_NOT_ALLOWED;\nvar NO_TRANSPORT = new TrezorError(500, 'Transport is missing');\nexports.NO_TRANSPORT = NO_TRANSPORT;\nvar WRONG_TRANSPORT_CONFIG = new TrezorError(5002, 'Wrong config response'); // config_signed\n\nexports.WRONG_TRANSPORT_CONFIG = WRONG_TRANSPORT_CONFIG;\nvar DEVICE_NOT_FOUND = new TrezorError(501, 'Device not found'); // export const DEVICE_CALL_IN_PROGRESS: TrezorError = new TrezorError(502, \"Device call in progress.\");\n\nexports.DEVICE_NOT_FOUND = DEVICE_NOT_FOUND;\nvar DEVICE_CALL_IN_PROGRESS = new TrezorError(503, 'Device call in progress');\nexports.DEVICE_CALL_IN_PROGRESS = DEVICE_CALL_IN_PROGRESS;\nvar INVALID_PARAMETERS = new TrezorError(504, 'Invalid parameters');\nexports.INVALID_PARAMETERS = INVALID_PARAMETERS;\nvar POPUP_CLOSED = new Error('Popup closed');\nexports.POPUP_CLOSED = POPUP_CLOSED;\nvar PERMISSIONS_NOT_GRANTED = new TrezorError(403, 'Permissions not granted');\nexports.PERMISSIONS_NOT_GRANTED = PERMISSIONS_NOT_GRANTED;\nvar DEVICE_USED_ELSEWHERE = new TrezorError(700, 'Device is used in another window');\nexports.DEVICE_USED_ELSEWHERE = DEVICE_USED_ELSEWHERE;\nvar INITIALIZATION_FAILED = new TrezorError('Failure_Initialize', 'Initialization failed');\nexports.INITIALIZATION_FAILED = INITIALIZATION_FAILED;\nvar CALL_OVERRIDE = new TrezorError('Failure_ActionOverride', 'override');\nexports.CALL_OVERRIDE = CALL_OVERRIDE;\nvar INVALID_STATE = new TrezorError('Failure_PassphraseState', 'Passphrase is incorrect'); // a slight hack\n// this error string is hard-coded\n// in both bridge and extension\n\nexports.INVALID_STATE = INVALID_STATE;\nvar WRONG_PREVIOUS_SESSION_ERROR_MESSAGE = 'wrong previous session';\nexports.WRONG_PREVIOUS_SESSION_ERROR_MESSAGE = WRONG_PREVIOUS_SESSION_ERROR_MESSAGE;\nvar INVALID_PIN_ERROR_MESSAGE = 'PIN invalid';\nexports.INVALID_PIN_ERROR_MESSAGE = INVALID_PIN_ERROR_MESSAGE;\nvar WEBUSB_ERROR_MESSAGE = 'NetworkError: Unable to claim interface.'; // BlockBook\n\nexports.WEBUSB_ERROR_MESSAGE = WEBUSB_ERROR_MESSAGE;\n\nvar backendNotSupported = function backendNotSupported(coinName) {\n  return new TrezorError('backend_error', \"BlockchainLink support not found for \" + coinName);\n};\n\nexports.backendNotSupported = backendNotSupported;\nvar BACKEND_NO_URL = new TrezorError('Backend_init', 'Url not found');\nexports.BACKEND_NO_URL = BACKEND_NO_URL;\nvar NO_COIN_INFO = invalidParameter('Coin not found.');\nexports.NO_COIN_INFO = NO_COIN_INFO;","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar POPUP = _interopRequireWildcard(require(\"../constants/popup\"));\n\nvar IFRAME = _interopRequireWildcard(require(\"../constants/iframe\"));\n\nvar UI = _interopRequireWildcard(require(\"../constants/ui\"));\n\nvar _showPopupRequest = require(\"./showPopupRequest\");\n\nvar _networkUtils = require(\"../env/browser/networkUtils\");\n\nvar _deferred = require(\"../utils/deferred\");\n\n// const POPUP_REQUEST_TIMEOUT: number = 602;\nvar POPUP_REQUEST_TIMEOUT = 850;\nvar POPUP_CLOSE_INTERVAL = 500;\nvar POPUP_OPEN_TIMEOUT = 3000;\n\nvar PopupManager = /*#__PURE__*/function (_EventEmitter) {\n  (0, _inheritsLoose2[\"default\"])(PopupManager, _EventEmitter);\n\n  // Window\n  function PopupManager(settings) {\n    var _this;\n\n    _this = _EventEmitter.call(this) || this;\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"requestTimeout\", 0);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"closeInterval\", 0);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"extensionTabId\", 0);\n    _this.settings = settings;\n    _this.origin = (0, _networkUtils.getOrigin)(settings.popupSrc);\n    _this.handleMessage = _this.handleMessage.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.iframeHandshake = (0, _deferred.create)(IFRAME.LOADED);\n\n    if (_this.settings.env === 'webextension') {\n      _this.handleExtensionConnect = _this.handleExtensionConnect.bind((0, _assertThisInitialized2[\"default\"])(_this));\n      _this.handleExtensionMessage = _this.handleExtensionMessage.bind((0, _assertThisInitialized2[\"default\"])(_this)); // $FlowIssue chrome not declared outside\n\n      chrome.runtime.onConnect.addListener(_this.handleExtensionConnect);\n    }\n\n    window.addEventListener('message', _this.handleMessage, false);\n    return _this;\n  }\n\n  var _proto = PopupManager.prototype;\n\n  _proto.request = function request(lazyLoad) {\n    var _this2 = this;\n\n    if (lazyLoad === void 0) {\n      lazyLoad = false;\n    }\n\n    // popup request\n    // TODO: ie - open immediately and hide it but post handshake after timeout\n    // bring popup window to front\n    if (this.locked) {\n      if (this._window) {\n        if (this.settings.env === 'webextension') {\n          // $FlowIssue chrome not declared outside\n          chrome.tabs.update(this._window.id, {\n            active: true\n          });\n        } else {\n          this._window.focus();\n        }\n      }\n\n      return;\n    }\n\n    var openFn = this.open.bind(this);\n    this.locked = true;\n\n    if (!this.settings.supportedBrowser) {\n      openFn();\n    } else {\n      var timeout = lazyLoad || this.settings.env === 'webextension' ? 1 : POPUP_REQUEST_TIMEOUT;\n      this.requestTimeout = window.setTimeout(function () {\n        _this2.requestTimeout = 0;\n        openFn(lazyLoad);\n      }, timeout);\n    }\n  };\n\n  _proto.cancel = function cancel() {\n    this.close();\n  };\n\n  _proto.unlock = function unlock() {\n    this.locked = false;\n  };\n\n  _proto.open = function open(lazyLoad) {\n    var _this3 = this;\n\n    var src = this.settings.popupSrc;\n\n    if (!this.settings.supportedBrowser) {\n      this.openWrapper(src + \"#unsupported\");\n      return;\n    }\n\n    this.openWrapper(lazyLoad ? src + \"#loading\" : src);\n    this.closeInterval = window.setInterval(function () {\n      if (!_this3._window) return;\n\n      if (_this3.settings.env === 'webextension') {\n        // $FlowIssue chrome not declared outside\n        chrome.tabs.get(_this3._window.id, function (tab) {\n          if (!tab) {\n            _this3.close();\n\n            _this3.emit(POPUP.CLOSED);\n          }\n        });\n      } else if (_this3._window.closed) {\n        _this3.close();\n\n        _this3.emit(POPUP.CLOSED);\n      }\n    }, POPUP_CLOSE_INTERVAL); // open timeout will be cancelled by POPUP.BOOTSTRAP message\n\n    this.openTimeout = window.setTimeout(function () {\n      _this3.close();\n\n      (0, _showPopupRequest.showPopupRequest)(_this3.open.bind(_this3), function () {\n        _this3.emit(POPUP.CLOSED);\n      });\n    }, POPUP_OPEN_TIMEOUT);\n  };\n\n  _proto.openWrapper = function openWrapper(url) {\n    var _this4 = this;\n\n    if (this.settings.env === 'webextension') {\n      // $FlowIssue chrome not declared outside\n      chrome.windows.getCurrent(null, function (currentWindow) {\n        // Request coming from extension popup,\n        // create new window above instead of opening new tab\n        if (currentWindow.type !== 'normal') {\n          // $FlowIssue chrome not declared outside\n          chrome.windows.create({\n            url: url\n          }, function (newWindow) {\n            // $FlowIssue chrome not declared outside\n            chrome.tabs.query({\n              windowId: newWindow.id,\n              active: true\n            }, function (tabs) {\n              _this4._window = tabs[0];\n            });\n          });\n        } else {\n          // $FlowIssue chrome not declared outside\n          chrome.tabs.query({\n            currentWindow: true,\n            active: true\n          }, function (tabs) {\n            _this4.extensionTabId = tabs[0].id; // $FlowIssue chrome not declared outside\n\n            chrome.tabs.create({\n              url: url,\n              index: tabs[0].index + 1\n            }, function (tab) {\n              _this4._window = tab;\n            });\n          });\n        }\n      });\n    } else if (this.settings.env === 'electron') {\n      this._window = window.open(url, 'modal');\n    } else {\n      this._window = window.open('', '_blank');\n\n      if (this._window) {\n        this._window.location.href = url; // otherwise android/chrome loose window.opener reference\n      }\n    }\n  };\n\n  _proto.handleExtensionConnect = function handleExtensionConnect(port) {\n    if (port.name !== 'trezor-connect') return;\n\n    if (!this._window || this._window && this._window.id !== port.sender.tab.id) {\n      port.disconnect();\n      return;\n    } // since POPUP.BOOTSTRAP will not be handled by \"handleMessage\" we need to threat \"content-script\" connection as the same event\n    // popup is opened properly, now wait for POPUP.LOADED message (in this case handled by \"handleExtensionMessage\")\n\n\n    window.clearTimeout(this.openTimeout);\n    this.extensionPort = port; // $FlowIssue need to update ChromePort definition\n\n    this.extensionPort.onMessage.addListener(this.handleExtensionMessage);\n  };\n\n  _proto.handleExtensionMessage = function handleExtensionMessage(message) {\n    var _this5 = this;\n\n    if (!this.extensionPort) return;\n    var port = this.extensionPort;\n    var data = message.data;\n    if (!data || typeof data !== 'object') return;\n\n    if (data.type === POPUP.ERROR) {\n      // handle popup error\n      var errorMessage = data.payload && typeof data.payload.error === 'string' ? data.payload.error : null;\n      this.emit(POPUP.CLOSED, errorMessage ? \"Popup error: \" + errorMessage : null);\n      this.close();\n    } else if (data.type === POPUP.LOADED) {\n      this.iframeHandshake.promise.then(function () {\n        port.postMessage({\n          type: POPUP.INIT,\n          payload: {\n            settings: _this5.settings\n          }\n        });\n      });\n    } else if (data.type === POPUP.EXTENSION_USB_PERMISSIONS) {\n      // $FlowIssue chrome not declared outside\n      chrome.tabs.query({\n        currentWindow: true,\n        active: true\n      }, function (tabs) {\n        // $FlowIssue chrome not declared outside\n        chrome.tabs.create({\n          url: 'trezor-usb-permissions.html',\n          index: tabs[0].index + 1\n        }, function (tab) {// do nothing\n        });\n      });\n    } else if (data.type === POPUP.CLOSE_WINDOW) {\n      this.emit(POPUP.CLOSED);\n      this.close();\n    }\n  };\n\n  _proto.handleMessage = function handleMessage(message) {\n    var _this6 = this;\n\n    // ignore messages from domain other then popup origin and without data\n    var data = message.data;\n    if ((0, _networkUtils.getOrigin)(message.origin) !== this.origin || !data || typeof data !== 'object') return;\n\n    if (data.type === IFRAME.LOADED) {\n      this.iframeHandshake.resolve();\n    } else if (data.type === POPUP.BOOTSTRAP) {\n      // popup is opened properly, now wait for POPUP.LOADED message\n      window.clearTimeout(this.openTimeout);\n    } else if (data.type === POPUP.ERROR && this._window) {\n      var errorMessage = data.payload && typeof data.payload.error === 'string' ? data.payload.error : null;\n      this.emit(POPUP.CLOSED, errorMessage ? \"Popup error: \" + errorMessage : null);\n      this.close();\n    } else if (data.type === POPUP.LOADED) {\n      // popup is successfully loaded\n      this.iframeHandshake.promise.then(function () {\n        _this6._window.postMessage({\n          type: POPUP.INIT,\n          payload: {\n            settings: _this6.settings\n          }\n        }, _this6.origin);\n      }); // send ConnectSettings to popup\n      // note this settings and iframe.ConnectSettings could be different (especially: origin, popup, webusb, debug)\n      // now popup is able to load assets\n    } else if (data.type === POPUP.CANCEL_POPUP_REQUEST || data.type === UI.CLOSE_UI_WINDOW) {\n      this.close();\n    }\n  };\n\n  _proto.close = function close() {\n    this.locked = false;\n\n    if (this.requestTimeout) {\n      window.clearTimeout(this.requestTimeout);\n      this.requestTimeout = 0;\n    }\n\n    if (this.openTimeout) {\n      window.clearTimeout(this.openTimeout);\n      this.openTimeout = 0;\n    }\n\n    if (this.closeInterval) {\n      window.clearInterval(this.closeInterval);\n      this.closeInterval = 0;\n    }\n\n    if (this.extensionPort) {\n      this.extensionPort.disconnect();\n      this.extensionPort = null;\n    } // switch to previously focused tab\n\n\n    if (this.extensionTabId) {\n      // $FlowIssue chrome not declared outside\n      chrome.tabs.update(this.extensionTabId, {\n        active: true\n      });\n      this.extensionTabId = 0;\n    }\n\n    if (this._window) {\n      if (this.settings.env === 'webextension') {\n        // eslint-disable-next-line no-unused-vars\n        var _e; // $FlowIssue chrome not declared outside\n\n\n        chrome.tabs.remove(this._window.id, function () {\n          _e = chrome.runtime.lastError;\n        });\n        _e = chrome.runtime.lastError;\n      } else {\n        this._window.close();\n      }\n\n      this._window = null;\n    }\n  };\n\n  _proto.postMessage = function postMessage(message) {\n    var _this7 = this;\n\n    // post message before popup request finalized\n    if (this.requestTimeout) {\n      return;\n    } // device needs interaction but there is no popup/ui\n    // maybe popup request wasn't handled\n    // ignore \"ui_request_window\" type\n\n\n    if (!this._window && message.type !== UI.REQUEST_UI_WINDOW && this.openTimeout) {\n      this.close();\n      (0, _showPopupRequest.showPopupRequest)(this.open.bind(this), function () {\n        _this7.emit(POPUP.CLOSED);\n      });\n      return;\n    } // post message to popup window\n\n\n    if (this._window) {\n      this._window.postMessage(message, this.origin);\n    }\n  };\n\n  _proto.onBeforeUnload = function onBeforeUnload() {\n    this.close();\n  };\n\n  return PopupManager;\n}(_events[\"default\"]);\n\nexports[\"default\"] = PopupManager;","\"use strict\";\n\nexports.__esModule = true;\nexports.showPopupRequest = void 0;\nvar layerID = 'TrezorConnectInteractionLayer';\nvar layerInnerHtml = \"\\n    <div class=\\\"trezorconnect-container\\\" id=\\\"\" + layerID + \"\\\">\\n        <div class=\\\"trezorconnect-window\\\">\\n            <div class=\\\"trezorconnect-head\\\">\\n                <svg class=\\\"trezorconnect-logo\\\" x=\\\"0px\\\" y=\\\"0px\\\" viewBox=\\\"0 0 163.7 41.9\\\" width=\\\"78px\\\" height=\\\"20px\\\" preserveAspectRatio=\\\"xMinYMin meet\\\">\\n                    <polygon points=\\\"101.1,12.8 118.2,12.8 118.2,17.3 108.9,29.9 118.2,29.9 118.2,35.2 101.1,35.2 101.1,30.7 110.4,18.1 101.1,18.1\\\"/>\\n                    <path d=\\\"M158.8,26.9c2.1-0.8,4.3-2.9,4.3-6.6c0-4.5-3.1-7.4-7.7-7.4h-10.5v22.3h5.8v-7.5h2.2l4.1,7.5h6.7L158.8,26.9z M154.7,22.5 h-4V18h4c1.5,0,2.5,0.9,2.5,2.2C157.2,21.6,156.2,22.5,154.7,22.5z\\\"/>\\n                    <path d=\\\"M130.8,12.5c-6.8,0-11.6,4.9-11.6,11.5s4.9,11.5,11.6,11.5s11.7-4.9,11.7-11.5S137.6,12.5,130.8,12.5z M130.8,30.3 c-3.4,0-5.7-2.6-5.7-6.3c0-3.8,2.3-6.3,5.7-6.3c3.4,0,5.8,2.6,5.8,6.3C136.6,27.7,134.2,30.3,130.8,30.3z\\\"/>\\n                    <polygon points=\\\"82.1,12.8 98.3,12.8 98.3,18 87.9,18 87.9,21.3 98,21.3 98,26.4 87.9,26.4 87.9,30 98.3,30 98.3,35.2 82.1,35.2 \\\"/>\\n                    <path d=\\\"M24.6,9.7C24.6,4.4,20,0,14.4,0S4.2,4.4,4.2,9.7v3.1H0v22.3h0l14.4,6.7l14.4-6.7h0V12.9h-4.2V9.7z M9.4,9.7 c0-2.5,2.2-4.5,5-4.5s5,2,5,4.5v3.1H9.4V9.7z M23,31.5l-8.6,4l-8.6-4V18.1H23V31.5z\\\"/>\\n                    <path d=\\\"M79.4,20.3c0-4.5-3.1-7.4-7.7-7.4H61.2v22.3H67v-7.5h2.2l4.1,7.5H80l-4.9-8.3C77.2,26.1,79.4,24,79.4,20.3z M71,22.5h-4V18 h4c1.5,0,2.5,0.9,2.5,2.2C73.5,21.6,72.5,22.5,71,22.5z\\\"/>\\n                    <polygon points=\\\"40.5,12.8 58.6,12.8 58.6,18.1 52.4,18.1 52.4,35.2 46.6,35.2 46.6,18.1 40.5,18.1 \\\"/>\\n                </svg>\\n                <div class=\\\"trezorconnect-close\\\">\\n                    <svg x=\\\"0px\\\" y=\\\"0px\\\" viewBox=\\\"24 24 60 60\\\" width=\\\"24px\\\" height=\\\"24px\\\" preserveAspectRatio=\\\"xMinYMin meet\\\">\\n                        <polygon class=\\\"st0\\\" points=\\\"40,67.9 42.1,70 55,57.1 67.9,70 70,67.9 57.1,55 70,42.1 67.9,40 55,52.9 42.1,40 40,42.1 52.9,55 \\\"/>\\n                    </svg>\\n                </div>\\n            </div>\\n            <div class=\\\"trezorconnect-body\\\">\\n                <h3>Popup was blocked</h3>\\n                <p>Please click to \\u201CContinue\\u201D to open popup manually</p>\\n                <button class=\\\"trezorconnect-open\\\">Continue</button>\\n            </div>\\n        </div>\\n    </div>\\n\";\n\nvar showPopupRequest = function showPopupRequest(open, cancel) {\n  if (document.getElementById(layerID)) {\n    return;\n  }\n\n  var div = document.createElement('div');\n  div.id = layerID;\n  div.className = 'trezorconnect-container';\n  div.innerHTML = layerInnerHtml;\n\n  if (document.body) {\n    document.body.appendChild(div);\n  }\n\n  var button = div.getElementsByClassName('trezorconnect-open')[0];\n\n  button.onclick = function () {\n    open();\n\n    if (document.body) {\n      document.body.removeChild(div);\n    }\n  };\n\n  var close = div.getElementsByClassName('trezorconnect-close')[0];\n\n  close.onclick = function () {\n    cancel();\n\n    if (document.body) {\n      document.body.removeChild(div);\n    }\n  };\n};\n\nexports.showPopupRequest = showPopupRequest;","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar aFunction = require('../internals/a-function');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar bind = require('../internals/function-bind');\nvar fails = require('../internals/fails');\n\nvar nativeConstruct = getBuiltIn('Reflect', 'construct');\n\n// `Reflect.construct` method\n// https://tc39.github.io/ecma262/#sec-reflect.construct\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  nativeConstruct(function () { /* empty */ });\n});\nvar FORCED = NEW_TARGET_BUG || ARGS_BUG;\n\n$({ target: 'Reflect', stat: true, forced: FORCED, sham: FORCED }, {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Map` constructor\n// https://tc39.github.io/ecma262/#sec-map-objects\nmodule.exports = collection('Map', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.clearTimeout = exports.dispose = exports.postMessage = exports.init = exports.messagePromises = exports.error = exports.timeout = exports.initPromise = exports.origin = exports.instance = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _deferred = require(\"../utils/deferred\");\n\nvar IFRAME = _interopRequireWildcard(require(\"../constants/iframe\"));\n\nvar _errors = require(\"../constants/errors\");\n\nvar _networkUtils = require(\"../env/browser/networkUtils\");\n\nvar _inlineStyles = _interopRequireDefault(require(\"./inline-styles\"));\n\nvar instance;\nexports.instance = instance;\nvar origin;\nexports.origin = origin;\nvar initPromise = (0, _deferred.create)();\nexports.initPromise = initPromise;\nvar timeout = 0;\nexports.timeout = timeout;\nvar error;\nexports.error = error;\nvar _messageID = 0; // every postMessage to iframe has its own promise to resolve\n\nvar messagePromises = {};\nexports.messagePromises = messagePromises;\n\nvar init = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(settings) {\n    var existedFrame, src, manifestString, manifest, onLoad;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            exports.initPromise = initPromise = (0, _deferred.create)();\n            existedFrame = document.getElementById('trezorconnect');\n\n            if (existedFrame) {\n              exports.instance = instance = existedFrame;\n            } else {\n              exports.instance = instance = document.createElement('iframe');\n              instance.frameBorder = '0';\n              instance.width = '0px';\n              instance.height = '0px';\n              instance.style.position = 'absolute';\n              instance.style.display = 'none';\n              instance.style.border = '0px';\n              instance.style.width = '0px';\n              instance.style.height = '0px';\n              instance.id = 'trezorconnect';\n            }\n\n            if (settings.env === 'web') {\n              manifestString = settings.manifest ? JSON.stringify(settings.manifest) : 'undefined'; // note: btoa(undefined) === btoa('undefined') === \"dW5kZWZpbmVk\"\n\n              manifest = \"&version=\" + settings.version + \"&manifest=\" + encodeURIComponent(btoa(JSON.stringify(manifestString)));\n              src = settings.iframeSrc + \"?\" + Date.now() + manifest;\n            } else {\n              src = settings.iframeSrc;\n            }\n\n            instance.setAttribute('src', src);\n\n            if (settings.webusb) {\n              instance.setAttribute('allow', 'usb');\n            }\n\n            exports.origin = origin = (0, _networkUtils.getOrigin)(instance.src);\n            exports.timeout = timeout = window.setTimeout(function () {\n              initPromise.reject(_errors.IFRAME_TIMEOUT);\n            }, 10000);\n\n            onLoad = function onLoad() {\n              if (!instance) {\n                initPromise.reject(_errors.IFRAME_BLOCKED);\n                return;\n              }\n\n              try {\n                // if hosting page is able to access cross-origin location it means that the iframe is not loaded\n                var iframeOrigin = instance.contentWindow.location.origin;\n\n                if (!iframeOrigin || iframeOrigin === 'null') {\n                  // eslint-disable-next-line no-use-before-define\n                  handleIframeBlocked();\n                  return;\n                }\n              } catch (e) {// empty\n              }\n\n              var extension; // $FlowIssue chrome is not declared outside\n\n              if (typeof chrome !== 'undefined' && chrome.runtime && typeof chrome.runtime.onConnect !== 'undefined') {\n                chrome.runtime.onConnect.addListener(function () {});\n                extension = chrome.runtime.id;\n              }\n\n              instance.contentWindow.postMessage({\n                type: IFRAME.INIT,\n                payload: {\n                  settings: settings,\n                  extension: extension\n                }\n              }, origin);\n              instance.onload = undefined;\n            }; // IE hack\n\n\n            if (instance.attachEvent) {\n              instance.attachEvent('onload', onLoad);\n            } else {\n              instance.onload = onLoad;\n            } // inject iframe into host document body\n\n\n            if (document.body) {\n              document.body.appendChild(instance); // eslint-disable-next-line no-use-before-define\n\n              injectStyleSheet();\n            }\n\n            _context.prev = 11;\n            _context.next = 14;\n            return initPromise.promise;\n\n          case 14:\n            _context.next = 20;\n            break;\n\n          case 16:\n            _context.prev = 16;\n            _context.t0 = _context[\"catch\"](11);\n\n            // reset state to allow initialization again\n            if (instance) {\n              if (instance.parentNode) {\n                instance.parentNode.removeChild(instance);\n              } // eslint-disable-next-line require-atomic-updates\n\n\n              exports.instance = instance = null;\n            }\n\n            throw _context.t0.message || _context.t0;\n\n          case 20:\n            _context.prev = 20;\n            window.clearTimeout(timeout);\n            exports.timeout = timeout = 0;\n            return _context.finish(20);\n\n          case 24:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[11, 16, 20, 24]]);\n  }));\n\n  return function init(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.init = init;\n\nvar injectStyleSheet = function injectStyleSheet() {\n  if (!instance) {\n    throw _errors.IFRAME_BLOCKED;\n  }\n\n  var doc = instance.ownerDocument;\n  var head = doc.head || doc.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.setAttribute('type', 'text/css');\n  style.setAttribute('id', 'TrezorConnectStylesheet'); // $FlowIssue\n\n  if (style.styleSheet) {\n    // IE\n    // $FlowIssue\n    style.styleSheet.cssText = _inlineStyles[\"default\"];\n    head.appendChild(style);\n  } else {\n    style.appendChild(document.createTextNode(_inlineStyles[\"default\"]));\n    head.append(style);\n  }\n};\n\nvar handleIframeBlocked = function handleIframeBlocked() {\n  window.clearTimeout(timeout);\n  exports.error = error = _errors.IFRAME_BLOCKED.message; // eslint-disable-next-line no-use-before-define\n\n  dispose();\n  initPromise.reject(_errors.IFRAME_BLOCKED);\n}; // post messages to iframe\n\n\nvar postMessage = function postMessage(message, usePromise) {\n  if (usePromise === void 0) {\n    usePromise = true;\n  }\n\n  if (!instance) {\n    throw _errors.IFRAME_BLOCKED;\n  }\n\n  if (usePromise) {\n    _messageID++;\n    message.id = _messageID;\n    messagePromises[_messageID] = (0, _deferred.create)();\n    var promise = messagePromises[_messageID].promise;\n    instance.contentWindow.postMessage(message, origin);\n    return promise;\n  }\n\n  instance.contentWindow.postMessage(message, origin);\n  return null;\n};\n\nexports.postMessage = postMessage;\n\nvar dispose = function dispose() {\n  if (instance && instance.parentNode) {\n    try {\n      instance.parentNode.removeChild(instance);\n    } catch (error) {// do nothing\n    }\n  }\n\n  exports.instance = instance = null;\n  exports.timeout = timeout = 0;\n};\n\nexports.dispose = dispose;\n\nvar clearTimeout = function clearTimeout() {\n  window.clearTimeout(timeout);\n};\n\nexports.clearTimeout = clearTimeout;","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/function-bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.1.3.6 Map.prototype.get(key)\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // 23.1.3.9 Map.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // 23.2.3.1 Set.prototype.add(value)\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(C.prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return C;\n  },\n  setStrong: function (C, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    defineIterator(C, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var nativeMethod = NativePrototype[KEY];\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        nativeMethod.call(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        nativeMethod.call(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  // eslint-disable-next-line max-len\n  if (isForced(CONSTRUCTOR_NAME, typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n    new NativeConstructor().entries().next();\n  })))) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.REQUIRED = true;\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, Constructor, CONSTRUCTOR_NAME);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nvar _exportNames = {};\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _constants = require(\"./constants\");\n\nObject.keys(_constants).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  exports[key] = _constants[key];\n});\n\nvar _node = require(\"./env/node\");\n\nvar _types = require(\"./types\");\n\nObject.keys(_types).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  exports[key] = _types[key];\n});\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar TrezorConnect = {\n  manifest: _node.manifest,\n  init: function init(settings) {\n    return (0, _node.init)(settings);\n  },\n  getSettings: _node.getSettings,\n  on: function on(type, fn) {\n    _node.eventEmitter.on(type, fn);\n  },\n  off: function off(type, fn) {\n    _node.eventEmitter.removeListener(type, fn);\n  },\n  removeAllListeners: function removeAllListeners() {\n    _node.eventEmitter.removeAllListeners();\n  },\n  uiResponse: _node.uiResponse,\n  // methods\n  blockchainGetAccountBalanceHistory: function blockchainGetAccountBalanceHistory(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainGetAccountBalanceHistory'\n    }, params));\n  },\n  blockchainGetCurrentFiatRates: function blockchainGetCurrentFiatRates(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainGetCurrentFiatRates'\n    }, params));\n  },\n  blockchainGetFiatRatesForTimestamps: function blockchainGetFiatRatesForTimestamps(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainGetFiatRatesForTimestamps'\n    }, params));\n  },\n  blockchainDisconnect: function blockchainDisconnect(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainDisconnect'\n    }, params));\n  },\n  blockchainEstimateFee: function blockchainEstimateFee(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainEstimateFee'\n    }, params));\n  },\n  blockchainGetTransactions: function blockchainGetTransactions(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainGetTransactions'\n    }, params));\n  },\n  blockchainSetCustomBackend: function blockchainSetCustomBackend(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainSetCustomBackend'\n    }, params));\n  },\n  blockchainSubscribe: function blockchainSubscribe(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainSubscribe'\n    }, params));\n  },\n  blockchainSubscribeFiatRates: function blockchainSubscribeFiatRates(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainSubscribeFiatRates'\n    }, params));\n  },\n  blockchainUnsubscribe: function blockchainUnsubscribe(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainUnsubscribe'\n    }, params));\n  },\n  blockchainUnsubscribeFiatRates: function blockchainUnsubscribeFiatRates(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainUnsubscribeFiatRates'\n    }, params));\n  },\n  customMessage: function customMessage(params) {\n    return (0, _node.customMessage)(params);\n  },\n  requestLogin: function requestLogin(params) {\n    return (0, _node.requestLogin)(params);\n  },\n  cardanoGetAddress: function cardanoGetAddress(params) {\n    var useEventListener = _node.eventEmitter.listenerCount(_constants.UI.ADDRESS_VALIDATION) > 0;\n    return (0, _node.call)(_objectSpread({\n      method: 'cardanoGetAddress'\n    }, params, {\n      useEventListener: useEventListener\n    }));\n  },\n  cardanoGetPublicKey: function cardanoGetPublicKey(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'cardanoGetPublicKey'\n    }, params));\n  },\n  cardanoSignTransaction: function cardanoSignTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'cardanoSignTransaction'\n    }, params));\n  },\n  cipherKeyValue: function cipherKeyValue(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'cipherKeyValue'\n    }, params));\n  },\n  composeTransaction: function composeTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'composeTransaction'\n    }, params));\n  },\n  debugLinkDecision: function debugLinkDecision(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'debugLinkDecision'\n    }, params));\n  },\n  debugLinkGetState: function debugLinkGetState(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'debugLinkGetState'\n    }, params));\n  },\n  ethereumGetAddress: function ethereumGetAddress(params) {\n    var useEventListener = _node.eventEmitter.listenerCount(_constants.UI.ADDRESS_VALIDATION) > 0;\n    return (0, _node.call)(_objectSpread({\n      method: 'ethereumGetAddress'\n    }, params, {\n      useEventListener: useEventListener\n    }));\n  },\n  ethereumGetPublicKey: function ethereumGetPublicKey(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'ethereumGetPublicKey'\n    }, params));\n  },\n  ethereumSignMessage: function ethereumSignMessage(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'ethereumSignMessage'\n    }, params));\n  },\n  ethereumSignTransaction: function ethereumSignTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'ethereumSignTransaction'\n    }, params));\n  },\n  ethereumVerifyMessage: function ethereumVerifyMessage(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'ethereumVerifyMessage'\n    }, params));\n  },\n  getAccountInfo: function getAccountInfo(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'getAccountInfo'\n    }, params));\n  },\n  getAddress: function getAddress(params) {\n    var useEventListener = _node.eventEmitter.listenerCount(_constants.UI.ADDRESS_VALIDATION) > 0;\n    return (0, _node.call)(_objectSpread({\n      method: 'getAddress'\n    }, params, {\n      useEventListener: useEventListener\n    }));\n  },\n  getDeviceState: function getDeviceState(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'getDeviceState'\n    }, params));\n  },\n  getFeatures: function getFeatures(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'getFeatures'\n    }, params));\n  },\n  getPublicKey: function getPublicKey(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'getPublicKey'\n    }, params));\n  },\n  liskGetAddress: function liskGetAddress(params) {\n    var useEventListener = _node.eventEmitter.listenerCount(_constants.UI.ADDRESS_VALIDATION) > 0;\n    return (0, _node.call)(_objectSpread({\n      method: 'liskGetAddress'\n    }, params, {\n      useEventListener: useEventListener\n    }));\n  },\n  liskGetPublicKey: function liskGetPublicKey(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'liskGetPublicKey'\n    }, params));\n  },\n  liskSignMessage: function liskSignMessage(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'liskSignMessage'\n    }, params));\n  },\n  liskSignTransaction: function liskSignTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'liskSignTransaction'\n    }, params));\n  },\n  liskVerifyMessage: function liskVerifyMessage(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'liskVerifyMessage'\n    }, params));\n  },\n  nemGetAddress: function nemGetAddress(params) {\n    var useEventListener = _node.eventEmitter.listenerCount(_constants.UI.ADDRESS_VALIDATION) > 0;\n    return (0, _node.call)(_objectSpread({\n      method: 'nemGetAddress'\n    }, params, {\n      useEventListener: useEventListener\n    }));\n  },\n  nemSignTransaction: function nemSignTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'nemSignTransaction'\n    }, params));\n  },\n  pushTransaction: function pushTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'pushTransaction'\n    }, params));\n  },\n  rippleGetAddress: function rippleGetAddress(params) {\n    var useEventListener = _node.eventEmitter.listenerCount(_constants.UI.ADDRESS_VALIDATION) > 0;\n    return (0, _node.call)(_objectSpread({\n      method: 'rippleGetAddress'\n    }, params, {\n      useEventListener: useEventListener\n    }));\n  },\n  rippleSignTransaction: function rippleSignTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'rippleSignTransaction'\n    }, params));\n  },\n  signMessage: function signMessage(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'signMessage'\n    }, params));\n  },\n  signTransaction: function signTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'signTransaction'\n    }, params));\n  },\n  stellarGetAddress: function stellarGetAddress(params) {\n    var useEventListener = _node.eventEmitter.listenerCount(_constants.UI.ADDRESS_VALIDATION) > 0;\n    return (0, _node.call)(_objectSpread({\n      method: 'stellarGetAddress'\n    }, params, {\n      useEventListener: useEventListener\n    }));\n  },\n  stellarSignTransaction: function stellarSignTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'stellarSignTransaction'\n    }, params));\n  },\n  tezosGetAddress: function tezosGetAddress(params) {\n    var useEventListener = _node.eventEmitter.listenerCount(_constants.UI.ADDRESS_VALIDATION) > 0;\n    return (0, _node.call)(_objectSpread({\n      method: 'tezosGetAddress'\n    }, params, {\n      useEventListener: useEventListener\n    }));\n  },\n  tezosGetPublicKey: function tezosGetPublicKey(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'tezosGetPublicKey'\n    }, params));\n  },\n  tezosSignTransaction: function tezosSignTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'tezosSignTransaction'\n    }, params));\n  },\n  eosGetPublicKey: function eosGetPublicKey(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'eosGetPublicKey'\n    }, params));\n  },\n  eosSignTransaction: function eosSignTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'eosSignTransaction'\n    }, params));\n  },\n  binanceGetAddress: function binanceGetAddress(params) {\n    var useEventListener = _node.eventEmitter.listenerCount(_constants.UI.ADDRESS_VALIDATION) > 0;\n    return (0, _node.call)(_objectSpread({\n      method: 'binanceGetAddress'\n    }, params, {\n      useEventListener: useEventListener\n    }));\n  },\n  binanceGetPublicKey: function binanceGetPublicKey(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'binanceGetPublicKey'\n    }, params));\n  },\n  binanceSignTransaction: function binanceSignTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'binanceSignTransaction'\n    }, params));\n  },\n  verifyMessage: function verifyMessage(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'verifyMessage'\n    }, params));\n  },\n  resetDevice: function resetDevice(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'resetDevice'\n    }, params));\n  },\n  wipeDevice: function wipeDevice(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'wipeDevice'\n    }, params));\n  },\n  applyFlags: function applyFlags(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'applyFlags'\n    }, params));\n  },\n  applySettings: function applySettings(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'applySettings'\n    }, params));\n  },\n  backupDevice: function backupDevice(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'backupDevice'\n    }, params));\n  },\n  changePin: function changePin(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'changePin'\n    }, params));\n  },\n  firmwareUpdate: function firmwareUpdate(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'firmwareUpdate'\n    }, params));\n  },\n  recoveryDevice: function recoveryDevice(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'recoveryDevice'\n    }, params));\n  },\n  dispose: function dispose() {\n    (0, _node.dispose)();\n  },\n  cancel: _node.cancel,\n  renderWebUSBButton: function renderWebUSBButton(className) {\n    (0, _node.renderWebUSBButton)(className);\n  },\n  disableWebUSB: function disableWebUSB() {\n    (0, _node.disableWebUSB)();\n  }\n};\nvar _default = TrezorConnect;\nexports[\"default\"] = _default;","var _typeof = require(\"../helpers/typeof\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nmodule.exports = _interopRequireWildcard;","\"use strict\";\n\nexports.__esModule = true;\nexports.CLOSE_WINDOW = exports.CANCEL_POPUP_REQUEST = exports.CLOSED = exports.HANDSHAKE = exports.EXTENSION_USB_PERMISSIONS = exports.ERROR = exports.INIT = exports.LOADED = exports.BOOTSTRAP = void 0;\n// Message called from popup.html inline script before \"window.onload\" event. This is first message from popup to window.opener.\nvar BOOTSTRAP = 'popup-bootstrap'; // Message from popup.js to window.opener, called after \"window.onload\" event. This is second message from popup to window.opener.\n\nexports.BOOTSTRAP = BOOTSTRAP;\nvar LOADED = 'popup-loaded'; // Message from window.opener to popup.js. Send settings to popup. This is first message from window.opener to popup.\n\nexports.LOADED = LOADED;\nvar INIT = 'popup-init'; // Error message from popup to window.opener. Could be thrown during popup initialization process (POPUP.INIT)\n\nexports.INIT = INIT;\nvar ERROR = 'popup-error'; // Message to webextensions, opens \"trezor-usb-permission.html\" within webextension\n\nexports.ERROR = ERROR;\nvar EXTENSION_USB_PERMISSIONS = 'open-usb-permissions'; // Message called from both [popup > iframe] then [iframe > popup] in this exact order.\n// Firstly popup call iframe to resolve popup promise in Core\n// Then iframe reacts to POPUP.HANDSHAKE message and sends ConnectSettings, transport information and requested method details back to popup\n\nexports.EXTENSION_USB_PERMISSIONS = EXTENSION_USB_PERMISSIONS;\nvar HANDSHAKE = 'popup-handshake'; // Event emitted from PopupManager at the end of popup closing process.\n// Sent from popup thru window.opener to an iframe because message channel between popup and iframe is no longer available\n\nexports.HANDSHAKE = HANDSHAKE;\nvar CLOSED = 'popup-closed'; // Message called from iframe to popup, it means that popup will not be needed (example: Blockchain methods are not using popup at all)\n// This will close active popup window and/or clear opening process in PopupManager (maybe popup wasn't opened yet)\n\nexports.CLOSED = CLOSED;\nvar CANCEL_POPUP_REQUEST = 'ui-cancel-popup-request'; // Message called from inline element in popup.html (window.closeWindow), this is used only with webextensions to properly handle popup close event\n\nexports.CANCEL_POPUP_REQUEST = CANCEL_POPUP_REQUEST;\nvar CLOSE_WINDOW = 'window.close';\nexports.CLOSE_WINDOW = CLOSE_WINDOW;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","\"use strict\";\n\nexports.__esModule = true;\nexports.parseMessage = void 0;\n\n// parse MessageEvent .data into CoreMessage\nvar parseMessage = function parseMessage(messageData) {\n  var message = {\n    event: messageData.event,\n    type: messageData.type,\n    payload: messageData.payload\n  };\n\n  if (typeof messageData.id === 'number') {\n    message.id = messageData.id;\n  }\n\n  if (typeof messageData.success === 'boolean') {\n    message.success = messageData.success;\n  }\n\n  return message;\n};\n\nexports.parseMessage = parseMessage;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.disableWebUSB = exports.requestLogin = exports.customMessage = exports.getSettings = exports.renderWebUSBButton = exports.uiResponse = exports.call = exports.init = exports.cancel = exports.dispose = exports.manifest = exports.eventEmitter = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar _PopupManager = _interopRequireDefault(require(\"../../popup/PopupManager\"));\n\nvar iframe = _interopRequireWildcard(require(\"../../iframe/builder\"));\n\nvar _button = _interopRequireDefault(require(\"../../webusb/button\"));\n\nvar _message = require(\"../../message\");\n\nvar _ConnectSettings = require(\"../../data/ConnectSettings\");\n\nvar _debug = _interopRequireWildcard(require(\"../../utils/debug\"));\n\nvar _constants = require(\"../../constants\");\n\nvar $T = _interopRequireWildcard(require(\"../../types\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar eventEmitter = new _events[\"default\"]();\nexports.eventEmitter = eventEmitter;\n\nvar _log = (0, _debug.init)('[trezor-connect.js]');\n\nvar _settings;\n\nvar _popupManager;\n\nvar initPopupManager = function initPopupManager() {\n  var pm = new _PopupManager[\"default\"](_settings);\n  pm.on(_constants.POPUP.CLOSED, function (error) {\n    iframe.postMessage({\n      type: _constants.POPUP.CLOSED,\n      payload: error ? {\n        error: error\n      } : null\n    }, false);\n  });\n  return pm;\n};\n\nvar manifest = function manifest(data) {\n  _settings = (0, _ConnectSettings.parse)({\n    manifest: data\n  });\n};\n\nexports.manifest = manifest;\n\nvar dispose = function dispose() {\n  iframe.dispose();\n\n  if (_popupManager) {\n    _popupManager.close();\n  }\n};\n\nexports.dispose = dispose;\n\nvar cancel = function cancel(error) {\n  if (_popupManager) {\n    _popupManager.emit(_constants.POPUP.CLOSED, error);\n  }\n}; // handle message received from iframe\n\n\nexports.cancel = cancel;\n\nvar handleMessage = function handleMessage(messageEvent) {\n  // ignore messages from domain other then iframe origin\n  if (messageEvent.origin !== iframe.origin) return;\n  var message = (0, _message.parseMessage)(messageEvent.data);\n  var event = message.event,\n      type = message.type,\n      payload = message.payload;\n  var id = message.id || 0;\n\n  _log.log('handleMessage', message);\n\n  switch (event) {\n    case _constants.RESPONSE_EVENT:\n      if (iframe.messagePromises[id]) {\n        // resolve message promise (send result of call method)\n        iframe.messagePromises[id].resolve({\n          id: id,\n          success: message.success,\n          payload: payload\n        });\n        delete iframe.messagePromises[id];\n      } else {\n        _log.warn(\"Unknown message id \" + id);\n      }\n\n      break;\n\n    case _constants.DEVICE_EVENT:\n      // pass DEVICE event up to html\n      eventEmitter.emit(event, message);\n      eventEmitter.emit(type, payload); // DEVICE_EVENT also emit single events (connect/disconnect...)\n\n      break;\n\n    case _constants.TRANSPORT_EVENT:\n      eventEmitter.emit(event, message);\n      eventEmitter.emit(type, payload);\n      break;\n\n    case _constants.BLOCKCHAIN_EVENT:\n      eventEmitter.emit(event, message);\n      eventEmitter.emit(type, payload);\n      break;\n\n    case _constants.UI_EVENT:\n      if (type === _constants.IFRAME.BOOTSTRAP) {\n        iframe.clearTimeout();\n        break;\n      }\n\n      if (type === _constants.IFRAME.LOADED) {\n        iframe.initPromise.resolve();\n      }\n\n      if (type === _constants.IFRAME.ERROR) {\n        iframe.initPromise.reject(new Error(payload.error));\n      } // pass UI event up\n\n\n      eventEmitter.emit(event, message);\n      eventEmitter.emit(type, payload);\n      break;\n\n    default:\n      _log.log('Undefined message', event, messageEvent);\n\n  }\n};\n\nvar init = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(settings) {\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (settings === void 0) {\n              settings = {};\n            }\n\n            if (!iframe.instance) {\n              _context.next = 3;\n              break;\n            }\n\n            throw _constants.ERRORS.IFRAME_INITIALIZED;\n\n          case 3:\n            if (!_settings) {\n              _settings = (0, _ConnectSettings.parse)(settings);\n            }\n\n            if (_settings.manifest) {\n              _context.next = 6;\n              break;\n            }\n\n            throw _constants.ERRORS.MANIFEST_NOT_SET;\n\n          case 6:\n            if (!_settings.lazyLoad) {\n              _context.next = 9;\n              break;\n            }\n\n            // reset \"lazyLoad\" after first use\n            _settings.lazyLoad = false;\n            return _context.abrupt(\"return\");\n\n          case 9:\n            if (!_popupManager) {\n              _popupManager = initPopupManager();\n            }\n\n            _log.enabled = !!_settings.debug;\n            window.addEventListener('message', handleMessage);\n            window.addEventListener('unload', dispose);\n            _context.next = 15;\n            return iframe.init(_settings);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function init(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.init = init;\n\nvar call = /*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(params) {\n    var response;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!(!iframe.instance && !iframe.timeout)) {\n              _context2.next = 15;\n              break;\n            }\n\n            // init popup with lazy loading before iframe initialization\n            _settings = (0, _ConnectSettings.parse)(_settings);\n\n            if (_settings.manifest) {\n              _context2.next = 4;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", {\n              success: false,\n              payload: {\n                error: _constants.ERRORS.MANIFEST_NOT_SET.message\n              }\n            });\n\n          case 4:\n            if (!_popupManager) {\n              _popupManager = initPopupManager();\n            }\n\n            _popupManager.request(true); // auto init with default settings\n\n\n            _context2.prev = 6;\n            _context2.next = 9;\n            return init(_settings);\n\n          case 9:\n            _context2.next = 15;\n            break;\n\n          case 11:\n            _context2.prev = 11;\n            _context2.t0 = _context2[\"catch\"](6);\n\n            if (_popupManager) {\n              _popupManager.close();\n            }\n\n            return _context2.abrupt(\"return\", {\n              success: false,\n              payload: {\n                error: _context2.t0\n              }\n            });\n\n          case 15:\n            if (!iframe.timeout) {\n              _context2.next = 19;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", {\n              success: false,\n              payload: {\n                error: _constants.ERRORS.NO_IFRAME.message\n              }\n            });\n\n          case 19:\n            if (!iframe.error) {\n              _context2.next = 21;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", {\n              success: false,\n              payload: {\n                error: iframe.error\n              }\n            });\n\n          case 21:\n            // request popup window it might be used in the future\n            if (_settings.popup && _popupManager) {\n              _popupManager.request();\n            } // post message to iframe\n\n\n            _context2.prev = 22;\n            _context2.next = 25;\n            return iframe.postMessage({\n              type: _constants.IFRAME.CALL,\n              payload: params\n            });\n\n          case 25:\n            response = _context2.sent;\n\n            if (!response) {\n              _context2.next = 31;\n              break;\n            }\n\n            // TODO: unlock popupManager request only if there wasn't error \"in progress\"\n            if (response.payload.error !== _constants.ERRORS.DEVICE_CALL_IN_PROGRESS.message && _popupManager) {\n              _popupManager.unlock();\n            }\n\n            return _context2.abrupt(\"return\", response);\n\n          case 31:\n            if (_popupManager) {\n              _popupManager.unlock();\n            }\n\n            return _context2.abrupt(\"return\", {\n              success: false,\n              payload: {\n                error: 'No response from iframe'\n              }\n            });\n\n          case 33:\n            _context2.next = 39;\n            break;\n\n          case 35:\n            _context2.prev = 35;\n            _context2.t1 = _context2[\"catch\"](22);\n\n            _log.error('__call error', _context2.t1);\n\n            return _context2.abrupt(\"return\", _context2.t1);\n\n          case 39:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[6, 11], [22, 35]]);\n  }));\n\n  return function call(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexports.call = call;\n\nvar customMessageResponse = function customMessageResponse(payload) {\n  iframe.postMessage({\n    event: _constants.UI_EVENT,\n    type: _constants.UI.CUSTOM_MESSAGE_RESPONSE,\n    payload: payload\n  });\n};\n\nvar uiResponse = function uiResponse(response) {\n  var type = response.type,\n      payload = response.payload;\n  iframe.postMessage({\n    event: _constants.UI_EVENT,\n    type: type,\n    payload: payload\n  });\n};\n\nexports.uiResponse = uiResponse;\n\nvar renderWebUSBButton = function renderWebUSBButton(className) {\n  (0, _button[\"default\"])(className, _settings.webusbSrc, iframe.origin);\n};\n\nexports.renderWebUSBButton = renderWebUSBButton;\n\nvar getSettings = /*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3() {\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (iframe.instance) {\n              _context3.next = 2;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", {\n              success: false,\n              payload: {\n                error: 'Iframe not initialized yet, you need to call TrezorConnect.init or any other method first.'\n              }\n            });\n\n          case 2:\n            _context3.next = 4;\n            return call({\n              method: 'getSettings'\n            });\n\n          case 4:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function getSettings() {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexports.getSettings = getSettings;\n\nvar customMessage = /*#__PURE__*/function () {\n  var _ref4 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(params) {\n    var callback, customMessageListener, response;\n    return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            if (!(typeof params.callback !== 'function')) {\n              _context5.next = 2;\n              break;\n            }\n\n            return _context5.abrupt(\"return\", {\n              success: false,\n              payload: {\n                error: 'Parameter \"callback\" is not a function'\n              }\n            });\n\n          case 2:\n            // TODO: set message listener only if iframe is loaded correctly\n            callback = params.callback;\n\n            customMessageListener = /*#__PURE__*/function () {\n              var _ref5 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(event) {\n                var data, payload;\n                return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n                  while (1) {\n                    switch (_context4.prev = _context4.next) {\n                      case 0:\n                        data = event.data;\n\n                        if (!(data && data.type === _constants.UI.CUSTOM_MESSAGE_REQUEST)) {\n                          _context4.next = 6;\n                          break;\n                        }\n\n                        _context4.next = 4;\n                        return callback(data.payload);\n\n                      case 4:\n                        payload = _context4.sent;\n\n                        if (payload) {\n                          customMessageResponse(payload);\n                        } else {\n                          customMessageResponse({\n                            message: 'release'\n                          });\n                        }\n\n                      case 6:\n                      case \"end\":\n                        return _context4.stop();\n                    }\n                  }\n                }, _callee4);\n              }));\n\n              return function customMessageListener(_x4) {\n                return _ref5.apply(this, arguments);\n              };\n            }();\n\n            window.addEventListener('message', customMessageListener, false);\n            _context5.next = 7;\n            return call(_objectSpread({\n              method: 'customMessage'\n            }, params, {\n              callback: null\n            }));\n\n          case 7:\n            response = _context5.sent;\n            window.removeEventListener('message', customMessageListener);\n            return _context5.abrupt(\"return\", response);\n\n          case 10:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function customMessage(_x3) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nexports.customMessage = customMessage;\n\nvar requestLogin = /*#__PURE__*/function () {\n  var _ref6 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(params) {\n    var callback, loginChallengeListener, response;\n    return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            if (!(typeof params.callback === 'function')) {\n              _context7.next = 11;\n              break;\n            }\n\n            callback = params.callback; // TODO: set message listener only if iframe is loaded correctly\n\n            loginChallengeListener = /*#__PURE__*/function () {\n              var _ref7 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(event) {\n                var data, payload;\n                return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n                  while (1) {\n                    switch (_context6.prev = _context6.next) {\n                      case 0:\n                        data = event.data;\n\n                        if (!(data && data.type === _constants.UI.LOGIN_CHALLENGE_REQUEST)) {\n                          _context6.next = 12;\n                          break;\n                        }\n\n                        _context6.prev = 2;\n                        _context6.next = 5;\n                        return callback();\n\n                      case 5:\n                        payload = _context6.sent;\n                        iframe.postMessage({\n                          event: _constants.UI_EVENT,\n                          type: _constants.UI.LOGIN_CHALLENGE_RESPONSE,\n                          payload: payload\n                        });\n                        _context6.next = 12;\n                        break;\n\n                      case 9:\n                        _context6.prev = 9;\n                        _context6.t0 = _context6[\"catch\"](2);\n                        iframe.postMessage({\n                          event: _constants.UI_EVENT,\n                          type: _constants.UI.LOGIN_CHALLENGE_RESPONSE,\n                          payload: _context6.t0.message\n                        });\n\n                      case 12:\n                      case \"end\":\n                        return _context6.stop();\n                    }\n                  }\n                }, _callee6, null, [[2, 9]]);\n              }));\n\n              return function loginChallengeListener(_x6) {\n                return _ref7.apply(this, arguments);\n              };\n            }();\n\n            window.addEventListener('message', loginChallengeListener, false);\n            _context7.next = 6;\n            return call(_objectSpread({\n              method: 'requestLogin'\n            }, params, {\n              asyncChallenge: true,\n              callback: null\n            }));\n\n          case 6:\n            response = _context7.sent;\n            window.removeEventListener('message', loginChallengeListener);\n            return _context7.abrupt(\"return\", response);\n\n          case 11:\n            _context7.next = 13;\n            return call(_objectSpread({\n              method: 'requestLogin'\n            }, params));\n\n          case 13:\n            return _context7.abrupt(\"return\", _context7.sent);\n\n          case 14:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n\n  return function requestLogin(_x5) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nexports.requestLogin = requestLogin;\n\nvar disableWebUSB = function disableWebUSB() {\n  iframe.postMessage({\n    event: _constants.UI_EVENT,\n    type: _constants.TRANSPORT.DISABLE_WEBUSB\n  });\n};\n\nexports.disableWebUSB = disableWebUSB;","'use strict';\nvar redefineAll = require('../internals/redefine-all');\nvar getWeakData = require('../internals/internal-metadata').getWeakData;\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar ArrayIterationModule = require('../internals/array-iteration');\nvar $has = require('../internals/has');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\nvar find = ArrayIterationModule.find;\nvar findIndex = ArrayIterationModule.findIndex;\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (store) {\n  return store.frozen || (store.frozen = new UncaughtFrozenStore());\n};\n\nvar UncaughtFrozenStore = function () {\n  this.entries = [];\n};\n\nvar findUncaughtFrozen = function (store, key) {\n  return find(store.entries, function (it) {\n    return it[0] === key;\n  });\n};\n\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.entries.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = findIndex(this.entries, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.entries.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        id: id++,\n        frozen: undefined\n      });\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var data = getWeakData(anObject(key), true);\n      if (data === true) uncaughtFrozenStore(state).set(key, value);\n      else data[state.id] = value;\n      return that;\n    };\n\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state)['delete'](key);\n        return data && $has(data, state.id) && delete data[state.id];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state).has(key);\n        return data && $has(data, state.id);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.3.3.3 WeakMap.prototype.get(key)\n      get: function get(key) {\n        var state = getInternalState(this);\n        if (isObject(key)) {\n          var data = getWeakData(key);\n          if (data === true) return uncaughtFrozenStore(state).get(key);\n          return data ? data[state.id] : undefined;\n        }\n      },\n      // 23.3.3.5 WeakMap.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key, value);\n      }\n    } : {\n      // 23.4.3.1 WeakSet.prototype.add(value)\n      add: function add(value) {\n        return define(this, value, true);\n      }\n    });\n\n    return C;\n  }\n};\n","module.exports = require(\"regenerator-runtime\");\n","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports.UI = exports.TRANSPORT = exports.POPUP = exports.IFRAME = exports.ERRORS = exports.DEVICE = exports.BLOCKCHAIN = exports.BLOCKCHAIN_EVENT = exports.RESPONSE_EVENT = exports.TRANSPORT_EVENT = exports.DEVICE_EVENT = exports.UI_EVENT = exports.CORE_EVENT = void 0;\n\nvar BLOCKCHAIN = _interopRequireWildcard(require(\"./blockchain\"));\n\nexports.BLOCKCHAIN = BLOCKCHAIN;\n\nvar DEVICE = _interopRequireWildcard(require(\"./device\"));\n\nexports.DEVICE = DEVICE;\n\nvar ERRORS = _interopRequireWildcard(require(\"./errors\"));\n\nexports.ERRORS = ERRORS;\n\nvar IFRAME = _interopRequireWildcard(require(\"./iframe\"));\n\nexports.IFRAME = IFRAME;\n\nvar POPUP = _interopRequireWildcard(require(\"./popup\"));\n\nexports.POPUP = POPUP;\n\nvar TRANSPORT = _interopRequireWildcard(require(\"./transport\"));\n\nexports.TRANSPORT = TRANSPORT;\n\nvar UI = _interopRequireWildcard(require(\"./ui\"));\n\nexports.UI = UI;\nvar CORE_EVENT = 'CORE_EVENT';\nexports.CORE_EVENT = CORE_EVENT;\nvar UI_EVENT = 'UI_EVENT';\nexports.UI_EVENT = UI_EVENT;\nvar DEVICE_EVENT = 'DEVICE_EVENT';\nexports.DEVICE_EVENT = DEVICE_EVENT;\nvar TRANSPORT_EVENT = 'TRANSPORT_EVENT';\nexports.TRANSPORT_EVENT = TRANSPORT_EVENT;\nvar RESPONSE_EVENT = 'RESPONSE_EVENT';\nexports.RESPONSE_EVENT = RESPONSE_EVENT;\nvar BLOCKCHAIN_EVENT = 'BLOCKCHAIN_EVENT';\nexports.BLOCKCHAIN_EVENT = BLOCKCHAIN_EVENT;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar render = function render(className, url, origin) {\n  var query = className || '.trezor-webusb-button';\n  var buttons = document.querySelectorAll(query);\n  var src = url + \"?\" + Date.now();\n  buttons.forEach(function (b) {\n    if (b.getElementsByTagName('iframe').length < 1) {\n      var bounds = b.getBoundingClientRect();\n      var btnIframe = document.createElement('iframe');\n      btnIframe.frameBorder = '0';\n      btnIframe.width = Math.round(bounds.width) + 'px';\n      btnIframe.height = Math.round(bounds.height) + 'px';\n      btnIframe.style.position = 'absolute';\n      btnIframe.style.top = '0px';\n      btnIframe.style.left = '0px';\n      btnIframe.style.zIndex = '1'; // btnIframe.style.opacity = '0'; // this makes click impossible on cross-origin\n\n      btnIframe.setAttribute('allow', 'usb');\n      btnIframe.setAttribute('scrolling', 'no');\n\n      btnIframe.onload = function () {\n        btnIframe.contentWindow.postMessage({// style: JSON.stringify( window.getComputedStyle(b) ),\n          // outer: b.outerHTML,\n          // inner: b.innerHTML\n        }, origin);\n      };\n\n      btnIframe.src = src; // inject iframe into button\n\n      b.append(btnIframe);\n    }\n  });\n};\n\nvar _default = render;\nexports[\"default\"] = _default;","\"use strict\";\n\nexports.__esModule = true;\nexports.START_PENDING = exports.DISABLE_WEBUSB = exports.REQUEST = exports.STREAM = exports.UPDATE = exports.ERROR = exports.START = void 0;\nvar START = 'transport-start';\nexports.START = START;\nvar ERROR = 'transport-error';\nexports.ERROR = ERROR;\nvar UPDATE = 'transport-update';\nexports.UPDATE = UPDATE;\nvar STREAM = 'transport-stream';\nexports.STREAM = STREAM;\nvar REQUEST = 'transport-request_device';\nexports.REQUEST = REQUEST;\nvar DISABLE_WEBUSB = 'transport-disable_webusb';\nexports.DISABLE_WEBUSB = DISABLE_WEBUSB;\nvar START_PENDING = 'transport-start_pending';\nexports.START_PENDING = START_PENDING;","\"use strict\";\n\nexports.__esModule = true;\nexports.UNREADABLE = exports.WAIT_FOR_SELECTION = exports.WORD = exports.PASSPHRASE_ON_DEVICE = exports.PASSPHRASE = exports.PIN = exports.BUTTON = exports.LOADING = exports.USED_ELSEWHERE = exports.RELEASED = exports.ACQUIRED = exports.RELEASE = exports.ACQUIRE = exports.CHANGED = exports.DISCONNECT = exports.CONNECT_UNACQUIRED = exports.CONNECT = void 0;\n// device list events\nvar CONNECT = 'device-connect';\nexports.CONNECT = CONNECT;\nvar CONNECT_UNACQUIRED = 'device-connect_unacquired';\nexports.CONNECT_UNACQUIRED = CONNECT_UNACQUIRED;\nvar DISCONNECT = 'device-disconnect';\nexports.DISCONNECT = DISCONNECT;\nvar CHANGED = 'device-changed';\nexports.CHANGED = CHANGED;\nvar ACQUIRE = 'device-acquire';\nexports.ACQUIRE = ACQUIRE;\nvar RELEASE = 'device-release';\nexports.RELEASE = RELEASE;\nvar ACQUIRED = 'device-acquired';\nexports.ACQUIRED = ACQUIRED;\nvar RELEASED = 'device-released';\nexports.RELEASED = RELEASED;\nvar USED_ELSEWHERE = 'device-used_elsewhere';\nexports.USED_ELSEWHERE = USED_ELSEWHERE;\nvar LOADING = 'device-loading'; // trezor-link events in protobuf format\n\nexports.LOADING = LOADING;\nvar BUTTON = 'button';\nexports.BUTTON = BUTTON;\nvar PIN = 'pin';\nexports.PIN = PIN;\nvar PASSPHRASE = 'passphrase';\nexports.PASSPHRASE = PASSPHRASE;\nvar PASSPHRASE_ON_DEVICE = 'passphrase_on_device';\nexports.PASSPHRASE_ON_DEVICE = PASSPHRASE_ON_DEVICE;\nvar WORD = 'word'; // custom\n\nexports.WORD = WORD;\nvar WAIT_FOR_SELECTION = 'device-wait_for_selection'; // this string has different prefix than other constants and it's used as device path\n\nexports.WAIT_FOR_SELECTION = WAIT_FOR_SELECTION;\nvar UNREADABLE = 'unreadable-device';\nexports.UNREADABLE = UNREADABLE;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\nvar css = '.trezorconnect-container{position:fixed!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-webkit-flex-direction:column!important;-ms-flex-direction:column!important;flex-direction:column!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important;z-index:10000!important;width:100%!important;height:100%!important;top:0!important;left:0!important;background:rgba(0,0,0,.35)!important;overflow:auto!important;padding:20px!important;margin:0!important}.trezorconnect-container .trezorconnect-window{position:relative!important;display:block!important;width:370px!important;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,sans-serif!important;margin:auto!important;border-radius:3px!important;background-color:#fff!important;text-align:center!important;overflow:hidden!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head{text-align:left;padding:12px 24px!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-logo{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close{cursor:pointer!important;height:24px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close svg{fill:#757575;-webkit-transition:fill .3s ease-in-out!important;transition:fill .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close:hover svg{fill:#494949}.trezorconnect-container .trezorconnect-window .trezorconnect-body{padding:24px 24px 32px!important;background:#FBFBFB!important;border-top:1px solid #EBEBEB}.trezorconnect-container .trezorconnect-window .trezorconnect-body h3{color:#505050!important;font-size:16px!important;font-weight:500!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body p{margin:8px 0 24px!important;font-weight:400!important;color:#A9A9A9!important;font-size:12px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button{width:100%!important;padding:12px 24px!important;margin:0!important;border-radius:3px!important;font-size:14px!important;font-weight:300!important;cursor:pointer!important;background:#01B757!important;color:#fff!important;border:0!important;-webkit-transition:background-color .3s ease-in-out!important;transition:background-color .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:hover{background-color:#00AB51!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:active{background-color:#009546!important}/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0IiwiJHN0ZGluIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNBLHlCQUNJLFNBQUEsZ0JBQ0EsUUFBQSxzQkFDQSxRQUFBLHVCQUNBLFFBQUEsc0JBRUEsUUFBQSxlQUNBLG1CQUFBLG1CQUNBLHNCQUFBLGlCQUNBLHVCQUFBLGlCQUNBLG1CQUFBLGlCQUNBLGVBQUEsaUJBRUEsa0JBQUEsaUJBQ0Esb0JBQUEsaUJBQ0EsZUFBQSxpQkNmTSxZQUFhLGlCREFyQixRQUFTLGdCQWtCSCxNQUFBLGVBQ0EsT0FBQSxlQUNBLElBQUEsWUFDQSxLQUFBLFlBQ0EsV0FBQSwwQkFDQSxTQUFBLGVBQ0EsUUFBQSxlQUNBLE9BQUEsWUNkUiwrQ0RYRSxTQUFVLG1CQTZCQSxRQUFBLGdCQUNBLE1BQUEsZ0JBQ0EsWUFBQSxjQUFBLG1CQUFBLFdBQUEsT0FBQSxpQkFBQSxNQUFBLHFCQUNBLE9BQUEsZUNmVixjQUFlLGNEakJmLGlCQWlCRSxlQWtCWSxXQUFBLGlCQ2ZkLFNBQVUsaUJEbUJJLG1FQUNBLFdBQUEsS0NoQmQsUUFBUyxLQUFLLGVEeEJkLFFBQVMsc0JBMENTLFFBQUEsdUJBQ0EsUUFBQSxzQkNmbEIsUUFBUyxlRGlCSyxrQkE1QlosaUJBOEJvQixvQkFBQSxpQkNoQmxCLGVBQWdCLGlCRC9CWixZQWlCTixpQkFzQ1EsdUZBQ0EsaUJBQUEsRUNwQlYsYUFBYyxFRHBDVixTQUFVLEVBMkRBLEtBQUEsRUFFQSx3RkNwQmQsT0FBUSxrQkR6Q1IsT0FBUSxlQWlFTSw0RkFDQSxLQUFBLFFBQ0EsbUJBQUEsS0FBQSxJQUFBLHNCQ3BCZCxXQUFZLEtBQUssSUFBSyxzQkR3QlIsa0dBQ0EsS0FBQSxRQUVBLG1FQUNBLFFBQUEsS0FBQSxLQUFBLGVBQ0EsV0FBQSxrQkFDQSxXQUFBLElBQUEsTUFBQSxRQUVBLHNFQUNBLE1BQUEsa0JBQ0EsVUFBQSxlQ3JCZCxZQUFhLGNEd0JLLHFFQ3JCbEIsT0FBUSxJQUFJLEVBQUksZUR3QkYsWUFBQSxjQUNJLE1BQUEsa0JDdEJsQixVQUFXLGVBRWIsMEVBQ0UsTUFBTyxlQUNQLFFBQVMsS0FBSyxlQUNkLE9BQVEsWUFDUixjQUFlLGNBQ2YsVUFBVyxlQUNYLFlBQWEsY0FDYixPQUFRLGtCQUNSLFdBQVksa0JBQ1osTUFBTyxlQUNQLE9BQVEsWUFDUixtQkFBb0IsaUJBQWlCLElBQUssc0JBQzFDLFdBQVksaUJBQWlCLElBQUssc0JBRXBDLGdGQUNFLGlCQUFrQixrQkFFcEIsaUZBQ0UsaUJBQWtCIn0= */';\nvar _default = css;\nexports[\"default\"] = _default;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","\"use strict\";\n\nvar _constants = require(\"../../constants\");","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","\"use strict\";\n\nvar _constants = require(\"../constants\");","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","\"use strict\";\n\nexports.__esModule = true;\nexports.FIAT_RATES_UPDATE = exports.NOTIFICATION = exports.BLOCK = exports.CONNECT = exports.ERROR = void 0;\n// blockchain events\nvar ERROR = 'blockchain-error';\nexports.ERROR = ERROR;\nvar CONNECT = 'blockchain-connect';\nexports.CONNECT = CONNECT;\nvar BLOCK = 'blockchain-block';\nexports.BLOCK = BLOCK;\nvar NOTIFICATION = 'blockchain-notification';\nexports.NOTIFICATION = NOTIFICATION;\nvar FIAT_RATES_UPDATE = 'fiat-rates-update';\nexports.FIAT_RATES_UPDATE = FIAT_RATES_UPDATE;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","\"use strict\";\n\nvar _constants = require(\"../../constants\");","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar CONSTANTS = _interopRequireWildcard(require(\"../constants\"));\n\nvar P = _interopRequireWildcard(require(\"./params\"));\n\nvar Device = _interopRequireWildcard(require(\"./trezor/device\"));\n\nvar Mgmnt = _interopRequireWildcard(require(\"./trezor/management\"));\n\nvar Protobuf = _interopRequireWildcard(require(\"./trezor/protobuf\"));\n\nvar Account = _interopRequireWildcard(require(\"./account\"));\n\nvar Bitcoin = _interopRequireWildcard(require(\"./networks/bitcoin\"));\n\nvar Binance = _interopRequireWildcard(require(\"./networks/binance\"));\n\nvar Cardano = _interopRequireWildcard(require(\"./networks/cardano\"));\n\nvar EOS = _interopRequireWildcard(require(\"./networks/eos\"));\n\nvar Ethereum = _interopRequireWildcard(require(\"./networks/ethereum\"));\n\nvar Lisk = _interopRequireWildcard(require(\"./networks/lisk\"));\n\nvar NEM = _interopRequireWildcard(require(\"./networks/nem\"));\n\nvar Ripple = _interopRequireWildcard(require(\"./networks/ripple\"));\n\nvar Stellar = _interopRequireWildcard(require(\"./networks/stellar\"));\n\nvar Tezos = _interopRequireWildcard(require(\"./networks/tezos\"));\n\nvar Misc = _interopRequireWildcard(require(\"./misc\"));\n\nvar Events = _interopRequireWildcard(require(\"./events\"));\n\nvar Blockchain = _interopRequireWildcard(require(\"./backend/blockchain\"));","function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nmodule.exports = _inheritsLoose;"],"sourceRoot":""}